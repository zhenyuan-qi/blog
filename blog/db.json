{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/images/1648110790(1).jpg","path":"images/1648110790(1).jpg","modified":1,"renderable":0},{"_id":"source/images/promise.jpg","path":"images/promise.jpg","modified":1,"renderable":0},{"_id":"source/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg","path":"images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg","modified":1,"renderable":0},{"_id":"themes/maupassant/source/css/copycode.css","path":"css/copycode.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/copyright.css","path":"css/copyright.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/donate.css","path":"css/donate.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/search.css","path":"css/search.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/style.scss","path":"css/style.scss","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/alipay.svg","path":"img/alipay.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/bitcoin.svg","path":"img/bitcoin.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/github.svg","path":"img/github.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/like.svg","path":"img/like.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/paypal.svg","path":"img/paypal.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/wechat.svg","path":"img/wechat.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","path":"js/codeblock-resizer.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/copycode.js","path":"js/copycode.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/copyright.js","path":"js/copyright.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/donate.js","path":"js/donate.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/fancybox.js","path":"js/fancybox.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/love.js","path":"js/love.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/share.js","path":"js/share.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/totop.js","path":"js/totop.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/smartresize.js","path":"js/smartresize.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/JS基础.md","hash":"c13b6463dde81d77675c2f7417f3d538a5f3f432","modified":1648537087860},{"_id":"source/_posts/Promise对象.md","hash":"2b8c21a833c1cc0c0294628dcc544c80789a4a49","modified":1648518978149},{"_id":"source/_posts/Vuex学习.md","hash":"9c239e106868a56e75e20570d6e0e8c7445e9bfc","modified":1648520800250},{"_id":"source/_posts/Vue面试题.md","hash":"425dfef1871ddd46aa751e8eb2cfbe2d41c7287b","modified":1648438835438},{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1648519048125},{"_id":"source/_posts/实现方式.md","hash":"12a96c3eb52ffd0a8d3fbf992cb241b176f7483b","modified":1648537212815},{"_id":"source/_posts/圣杯和双飞翼布局.md","hash":"5222b3f5cb906eda88baf5e17a56ea9a5e2585a9","modified":1647677869648},{"_id":"source/_posts/浏览器相关.md","hash":"113fcb05b9c92fb91e0f8afda9278bc92f01c903","modified":1648436861418},{"_id":"source/_posts/深、浅拷贝.md","hash":"7eaff9de4f6356d57be547b306a93e5dd2b05834","modified":1648434708907},{"_id":"source/_posts/随笔.md","hash":"5bf6c43627e21ed0980e5dd3665b5127a1a52a26","modified":1647514940099},{"_id":"source/about/index.md","hash":"ba31b2f3ce3e0f650e963048b04cb597f29c3703","modified":1647586969649},{"_id":"source/images/1648110790(1).jpg","hash":"71e49a9e4d22a886ba9603feed3da68e18df46fb","modified":1648110790033},{"_id":"source/images/promise.jpg","hash":"b1892aa9612c9c44a6fb0dffe93095e30fc8b36e","modified":1648457082428},{"_id":"source/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg","hash":"849b7f61acb93d628ce040f6d75ee34c0d9cfec0","modified":1647676452509},{"_id":"themes/maupassant/.gitignore","hash":"d7d27e5a9bcffe7f90dc2f4f0752e19020e40f40","modified":1647512784190},{"_id":"themes/maupassant/.travis.yml","hash":"f8da426b97088e4caa5226cff219a5d95087961f","modified":1647512784190},{"_id":"themes/maupassant/_config.yml","hash":"52d9b1f1bf17f6466296498b6b28ca431c5ea846","modified":1648439615490},{"_id":"themes/maupassant/package.json","hash":"5328c4c435cd4a5fe47caae31b9975013cdca5bb","modified":1647512784199},{"_id":"themes/maupassant/languages/de-DE.yml","hash":"25d1d8cd8113045a7603c14af1ea1539fc6456ed","modified":1647512784191},{"_id":"themes/maupassant/languages/es-ES.yml","hash":"3cc9312fbdba4a8f8e8254804121e4724c719bcc","modified":1647512784192},{"_id":"themes/maupassant/languages/en.yml","hash":"93674c5df281d7f5647fe500e10924008d8017c6","modified":1647512784191},{"_id":"themes/maupassant/languages/fr-FR.yml","hash":"3a50568f200b9c1258415b53727e42c6b6c7ea0b","modified":1647512784192},{"_id":"themes/maupassant/languages/ko.yml","hash":"a454bcec60113507bc1d593a699849822386c196","modified":1647512784192},{"_id":"themes/maupassant/languages/zh-CN.yml","hash":"a6fa4ea6c3a59ae6ac13230d6154d1fdd6c149f3","modified":1647512784192},{"_id":"themes/maupassant/languages/ru.yml","hash":"36edc014c6aaef367d58929089bf7915375e71a6","modified":1647512784192},{"_id":"themes/maupassant/languages/zh-TW.yml","hash":"795f420382a150d570a06ffc278c4e7819260691","modified":1647512784193},{"_id":"themes/maupassant/layout/archive.pug","hash":"3770284e425fb0c14d60ae6ac454f58ba07ce76b","modified":1647512784197},{"_id":"themes/maupassant/layout/base-without-sidebar.pug","hash":"00792d30c4197ee79049060f56308327888e6812","modified":1647512784198},{"_id":"themes/maupassant/layout/base.pug","hash":"4c380e48f7e84619e2fc311dac82fc0e0e017c46","modified":1647512784198},{"_id":"themes/maupassant/layout/index.pug","hash":"089fc4f6fa928c4229cd79d8dd38b7cb6155d8a5","modified":1647512784198},{"_id":"themes/maupassant/layout/page.pug","hash":"647bfba2208cbef052e1bf307d30a6775671215d","modified":1647512784198},{"_id":"themes/maupassant/layout/post.pug","hash":"0f5f124b944a64493d4b0b997c1eebfe8dd4f891","modified":1647512784198},{"_id":"themes/maupassant/layout/single-column.pug","hash":"8b4b731cdf86379d526821a1fa950bf15ed61f15","modified":1647512784199},{"_id":"themes/maupassant/layout/tagcloud.pug","hash":"9ad3083c2f70fdb460ecbe277be97320a2621196","modified":1647512784199},{"_id":"themes/maupassant/layout/timeline.pug","hash":"04f7efdc45acda1faff409d0f80fa5a0dd2309d0","modified":1647512784199},{"_id":"themes/maupassant/layout/_partial/after_footer.pug","hash":"7f9f9d33edc563651222c0dd9ade7f38d4600f7c","modified":1647512784193},{"_id":"themes/maupassant/layout/_partial/comments.pug","hash":"063e74bd7b98f9df098aa213e69379effb53122e","modified":1647512784193},{"_id":"themes/maupassant/layout/_partial/darkmode.pug","hash":"8a4c53229394ba6cf63afd427b4e6b1dc1156526","modified":1647512784194},{"_id":"themes/maupassant/layout/_partial/footer.pug","hash":"92aa15e813bfb411803cc54218feb5410469a9c2","modified":1647512784194},{"_id":"themes/maupassant/LICENSE","hash":"0663fd3a7ea9fc4f4c634b4d73e2da426b536f86","modified":1647512784190},{"_id":"themes/maupassant/layout/_partial/head.pug","hash":"75a15b8a09146ae027355439fbbf5d27414f9e35","modified":1647512784194},{"_id":"themes/maupassant/layout/_partial/helpers.pug","hash":"9e44f6d32f2449b4109c33118f8285fa2fc7b023","modified":1647512784194},{"_id":"themes/maupassant/layout/_partial/mathjax.pug","hash":"ac6e3a92bf18ab6bbd0e041b6796b295bae963ee","modified":1647512784194},{"_id":"themes/maupassant/layout/_partial/mathjax2.pug","hash":"234a792e64ba208fa97d2f99772ece23056a53ec","modified":1647512784195},{"_id":"themes/maupassant/layout/_partial/paginator.pug","hash":"03ad0c49ae6f8a999ae35b38d08e25775f51f52a","modified":1647512784195},{"_id":"themes/maupassant/layout/_partial/post_nav.pug","hash":"b11d9e6000449838b17f508429f29ffb60f53096","modified":1647512784195},{"_id":"themes/maupassant/layout/_partial/tag.pug","hash":"a255fca3557a0dac0ad49c7d4456133420c22bd8","modified":1647512784195},{"_id":"themes/maupassant/layout/_partial/totop.pug","hash":"eb91a3baf9411188c7c8130f63a674f541ca9c81","modified":1647512784195},{"_id":"themes/maupassant/README.md","hash":"f7f36a633be735f2d9f5c2746cc6b440eb60e03c","modified":1647512784191},{"_id":"themes/maupassant/layout/_partial/wordcount.pug","hash":"f848b6ac3f44cfd4110a2d1c742c73eacd6285ee","modified":1647512784196},{"_id":"themes/maupassant/layout/_widget/category.pug","hash":"7707b4c718a935882ee986d0bb0078e50cdbea64","modified":1647512784196},{"_id":"themes/maupassant/layout/_widget/copyright.pug","hash":"44935b31e7b3b6232a9a587775cfe9e90efc6a89","modified":1647512784196},{"_id":"themes/maupassant/layout/_widget/links.pug","hash":"7bc7c17cfd498c3e0c3371cef78f08f1dc25db36","modified":1647512784196},{"_id":"themes/maupassant/layout/_widget/donate.pug","hash":"666a89edbc1d7186afba68e0b3bee7e957d7a26e","modified":1647512784196},{"_id":"themes/maupassant/layout/_widget/recent_comments.pug","hash":"757f517b776178e50ae4d3b8af129a3d80240d05","modified":1647512784197},{"_id":"themes/maupassant/layout/_widget/recent_posts.pug","hash":"770b6c41cbf7969ed33adf87eec3be6f50a0911b","modified":1647512784197},{"_id":"themes/maupassant/layout/_widget/search.pug","hash":"6aa743486f282545f553a4fad6aae037afe26108","modified":1647512784197},{"_id":"themes/maupassant/layout/_widget/tag.pug","hash":"37f236365b153fc40324391e5a602d6d50014e18","modified":1647512784197},{"_id":"themes/maupassant/source/css/copycode.css","hash":"23fefb18f1d4dc7bde33e29d6ae737570277d943","modified":1647512784200},{"_id":"themes/maupassant/source/css/donate.css","hash":"d9ef1520e136198c0ae13acef7da22a275fb4dbf","modified":1647512784200},{"_id":"themes/maupassant/source/css/search.css","hash":"a1720a63170ff4ae9048f634e8e1900e7a3cc45a","modified":1647512784200},{"_id":"themes/maupassant/source/css/style.scss","hash":"a69ab23cc2bbb64560fa3c20a8535e747b0413e0","modified":1647512784201},{"_id":"themes/maupassant/source/img/github.svg","hash":"277798d16cb6106e45ef74f6b9972011fa43401b","modified":1647512784202},{"_id":"themes/maupassant/source/img/like.svg","hash":"e6e4bd1af076be9358316cac89efdc22ef4a5064","modified":1647512784202},{"_id":"themes/maupassant/source/css/copyright.css","hash":"ad420043e1d0518bfbf3b2a2d87fb5b104587c6f","modified":1647512784200},{"_id":"themes/maupassant/source/img/wechat.svg","hash":"19c1f68ec8c0b8e9f7855e7a6e78077f70a1aedc","modified":1647512784202},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","hash":"c77270e684a60babc1abb7353e700ecdc5a66d30","modified":1647512784203},{"_id":"themes/maupassant/source/js/copycode.js","hash":"6df3139581744e7bcd47243e4587f5397c2a24c3","modified":1647512784203},{"_id":"themes/maupassant/source/js/copyright.js","hash":"0e9a845ae05d2f00721ff6ee910c8c3cace26043","modified":1647512784203},{"_id":"themes/maupassant/source/js/donate.js","hash":"82f06bd69782c1138c98b4276771a41e3a54c061","modified":1647512784203},{"_id":"themes/maupassant/source/js/fancybox.js","hash":"8a993c1c4ad40789d2960b682cb2130382a0f26a","modified":1647512784204},{"_id":"themes/maupassant/source/img/alipay.svg","hash":"3d94d2f9b09e352802628c9225578e1086f5fef3","modified":1647512784201},{"_id":"themes/maupassant/source/img/bitcoin.svg","hash":"590b6b6462896168d08b30dfe2de5f08950d5553","modified":1647512784201},{"_id":"themes/maupassant/source/img/paypal.svg","hash":"09786c983a10bc570dcd05b87cec601e9d01eb00","modified":1647512784202},{"_id":"themes/maupassant/source/js/totop.js","hash":"15de186b089c245fe60766d509b587919f05ff23","modified":1647512784205},{"_id":"themes/maupassant/source/js/smartresize.js","hash":"150ab1cad40d7ae081b0896b13f7d7cbac4e6338","modified":1647512784204},{"_id":"themes/maupassant/source/js/love.js","hash":"60df5dc3d09c8f33d1d02f54cbc73bf8d62f52fb","modified":1647512784204},{"_id":"themes/maupassant/source/js/search.js","hash":"65d8e6d6c46fa060ce5b0d89e2fd778b6b2967d5","modified":1647512784204},{"_id":"themes/maupassant/source/js/share.js","hash":"514e726c1efae9f6566600fa0e945b4b9e620f2e","modified":1647512784204},{"_id":"public/about/index.html","hash":"d4bef27a6bca49ddd3228fcaa3aa710c06997a48","modified":1648537240131},{"_id":"public/2022/03/29/实现方式/index.html","hash":"f5782ea0484c056a49518c7bcbc3ab1e4d2af799","modified":1648537240131},{"_id":"public/2022/03/28/浏览器相关/index.html","hash":"1aa8d243113f7f43ad935ffe211cdd3173433e7b","modified":1648537240131},{"_id":"public/2022/03/28/JS基础/index.html","hash":"bd7cdd3ef67b4710a0a98a5740e9d1651e0c32fc","modified":1648537240131},{"_id":"public/2022/03/18/圣杯和双飞翼布局/index.html","hash":"249c1465a5e9e2fa95c0774e4186a9d4d46ffc3c","modified":1648537240131},{"_id":"public/2022/03/18/Vue面试题/index.html","hash":"84655f8a921c40309eaba12fd08dc397daac5b9c","modified":1648537240131},{"_id":"public/2022/03/17/随笔/index.html","hash":"c55ae5c14cb6e67f45fc49df5d4c4154a7b9a0b1","modified":1648537240131},{"_id":"public/2022/03/16/hello-world/index.html","hash":"52de87095eb54e432ca712cf67837d76f3a362b8","modified":1648537240131},{"_id":"public/archives/index.html","hash":"58e6b93211dd76e039719ae98213272459c7f306","modified":1648537240131},{"_id":"public/archives/2022/index.html","hash":"58e6b93211dd76e039719ae98213272459c7f306","modified":1648537240131},{"_id":"public/archives/2022/03/index.html","hash":"58e6b93211dd76e039719ae98213272459c7f306","modified":1648537240131},{"_id":"public/index.html","hash":"b79c96392b0769a0f2ff1538ddab92c2ec725cf6","modified":1648537240131},{"_id":"public/tags/js/index.html","hash":"f386efa99eb941b8f1d1a002aff4464f28f6cdb9","modified":1648537240131},{"_id":"public/tags/es6/index.html","hash":"2803e7fb506b57e82ee6835f3e3ae3113d977a90","modified":1648537240131},{"_id":"public/tags/vue/index.html","hash":"737eb5dd89826858302196dd11b05a8cfbec603c","modified":1648537240131},{"_id":"public/tags/vuex/index.html","hash":"b2c5004b644fd6372a4bf66b750eebf87dca727a","modified":1648537240131},{"_id":"public/tags/css/index.html","hash":"201fd572556c22f4f84e886f3b16f6af77728e5d","modified":1648537240131},{"_id":"public/tags/浏览器/index.html","hash":"6b17328afd4c881ff3afe6b5d863f3f785d2c37e","modified":1648537240131},{"_id":"public/2022/03/28/Promise对象/index.html","hash":"a54f62642c8ca69f99b98d5c5f9af21b9cf5fd8a","modified":1648537240131},{"_id":"public/2022/03/22/深、浅拷贝/index.html","hash":"6f5565382e2467eaf58bc8e5f590d222b40d3c14","modified":1648537240131},{"_id":"public/2022/03/21/Vuex学习/index.html","hash":"3eb5b19470cfad29e055f595d89465b5e89a3ec2","modified":1648537240131},{"_id":"public/tags/随笔/index.html","hash":"6f436f0598a80e0f2cf96160b5aa1ec2c72fde69","modified":1648537240131},{"_id":"public/images/1648110790(1).jpg","hash":"71e49a9e4d22a886ba9603feed3da68e18df46fb","modified":1648537240131},{"_id":"public/images/promise.jpg","hash":"b1892aa9612c9c44a6fb0dffe93095e30fc8b36e","modified":1648537240131},{"_id":"public/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg","hash":"849b7f61acb93d628ce040f6d75ee34c0d9cfec0","modified":1648537240131},{"_id":"public/img/alipay.svg","hash":"3d94d2f9b09e352802628c9225578e1086f5fef3","modified":1648537240131},{"_id":"public/img/bitcoin.svg","hash":"590b6b6462896168d08b30dfe2de5f08950d5553","modified":1648537240131},{"_id":"public/img/github.svg","hash":"277798d16cb6106e45ef74f6b9972011fa43401b","modified":1648537240131},{"_id":"public/img/paypal.svg","hash":"09786c983a10bc570dcd05b87cec601e9d01eb00","modified":1648537240131},{"_id":"public/img/wechat.svg","hash":"19c1f68ec8c0b8e9f7855e7a6e78077f70a1aedc","modified":1648537240131},{"_id":"public/img/like.svg","hash":"e6e4bd1af076be9358316cac89efdc22ef4a5064","modified":1648537240131},{"_id":"public/css/copycode.css","hash":"e2463b8dacf629e180a1b6cd80667ca8044292eb","modified":1648537240131},{"_id":"public/css/donate.css","hash":"95b2fd65042afecc0b5530847c369bcc11d74bd0","modified":1648537240131},{"_id":"public/css/copyright.css","hash":"a418da11a88d1feb14500df42ed97a64da6a7611","modified":1648537240131},{"_id":"public/css/search.css","hash":"9406e138d7bb6a9ef4a067eba1dafa627519c8a7","modified":1648537240131},{"_id":"public/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1648537240131},{"_id":"public/js/copycode.js","hash":"fde1f153bab1f00ae8930668094c00aa9ff3c7a3","modified":1648537240131},{"_id":"public/js/copyright.js","hash":"7b1bd775ea22abf33d57f78628f436bf656e439a","modified":1648537240131},{"_id":"public/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1648537240131},{"_id":"public/js/donate.js","hash":"bdddd8d9847462d020f7a511e7e12c046223195d","modified":1648537240131},{"_id":"public/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1648537240131},{"_id":"public/js/love.js","hash":"5cf89f622bf891cf1986845eb92eadef6f358eb7","modified":1648537240131},{"_id":"public/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1648537240131},{"_id":"public/js/search.js","hash":"6fdfd143646d12b8dbef9b5809cea768192f08aa","modified":1648537240131},{"_id":"public/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1648537240131},{"_id":"public/css/style.css","hash":"4735627811dd6de51dd1a3c7da9e62102d98c355","modified":1648537240131}],"Category":[],"Data":[],"Page":[{"title":"关于我","type":"about","_content":"\n### ***停杯投箸不能食，拔剑四顾心茫然***\n\n博主：齐震元\n\n手机号：13734128107\n\n爱好：无\n\n邮箱：1324843912@qq.com\n\n","source":"about/index.md","raw":"---\ntitle: 关于我\ntype: about\n---\n\n### ***停杯投箸不能食，拔剑四顾心茫然***\n\n博主：齐震元\n\n手机号：13734128107\n\n爱好：无\n\n邮箱：1324843912@qq.com\n\n","date":"2022-03-18T07:02:49.649Z","updated":"2022-03-18T07:02:49.649Z","path":"about/index.html","comments":1,"layout":"page","_id":"cl1bsibu400002wthadph95xb","content":"<h3 id=\"停杯投箸不能食，拔剑四顾心茫然\"><a href=\"#停杯投箸不能食，拔剑四顾心茫然\" class=\"headerlink\" title=\"停杯投箸不能食，拔剑四顾心茫然\"></a><em><strong>停杯投箸不能食，拔剑四顾心茫然</strong></em></h3><p>博主：齐震元</p>\n<p>手机号：13734128107</p>\n<p>爱好：无</p>\n<p>邮箱：<a href=\"mailto:&#x31;&#x33;&#50;&#52;&#56;&#52;&#x33;&#57;&#x31;&#x32;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#x6d;\">&#x31;&#x33;&#50;&#52;&#56;&#52;&#x33;&#57;&#x31;&#x32;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#x6d;</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"停杯投箸不能食，拔剑四顾心茫然\"><a href=\"#停杯投箸不能食，拔剑四顾心茫然\" class=\"headerlink\" title=\"停杯投箸不能食，拔剑四顾心茫然\"></a><em><strong>停杯投箸不能食，拔剑四顾心茫然</strong></em></h3><p>博主：齐震元</p>\n<p>手机号：13734128107</p>\n<p>爱好：无</p>\n<p>邮箱：<a href=\"mailto:&#x31;&#x33;&#50;&#52;&#56;&#52;&#x33;&#57;&#x31;&#x32;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#x6d;\">&#x31;&#x33;&#50;&#52;&#56;&#52;&#x33;&#57;&#x31;&#x32;&#x40;&#x71;&#x71;&#46;&#99;&#111;&#x6d;</a></p>\n"}],"Post":[{"title":"JS基础","date":"2022-03-28T02:47:49.000Z","_content":"\n[原型链和原型]()\n\n[作用域、作用域链和执行上下文]()\n\n[JS继承]()\n\n[数据类型]()\n\n[类型判断]()\n\n[var、const、let 对比]()\n\n[es next 最新规范]()\n\n[new 的过程]()\n\n[this 指向问题]()\n\n[call、apply、bind 实现方式](/2022/03/29/实现方式/)\n\n[闭包]()\n\n[事件循环 ]()\n\n[Promise对象](/2022/03/28/Promise对象/)\n\n[asnyc&await]()\n\n[异步&同步]()\n\n[深拷贝&浅拷贝](/2022/03/22/深、浅拷贝/)\n\n[ES6新语法]()\n\n[实现多页签通讯]()\n\n[原生JS遍历时获取下标的三种方式]()\n\n","source":"_posts/JS基础.md","raw":"---\ntitle: JS基础\ndate: 2022-03-28 10:47:49\ntags: js\n---\n\n[原型链和原型]()\n\n[作用域、作用域链和执行上下文]()\n\n[JS继承]()\n\n[数据类型]()\n\n[类型判断]()\n\n[var、const、let 对比]()\n\n[es next 最新规范]()\n\n[new 的过程]()\n\n[this 指向问题]()\n\n[call、apply、bind 实现方式](/2022/03/29/实现方式/)\n\n[闭包]()\n\n[事件循环 ]()\n\n[Promise对象](/2022/03/28/Promise对象/)\n\n[asnyc&await]()\n\n[异步&同步]()\n\n[深拷贝&浅拷贝](/2022/03/22/深、浅拷贝/)\n\n[ES6新语法]()\n\n[实现多页签通讯]()\n\n[原生JS遍历时获取下标的三种方式]()\n\n","slug":"JS基础","published":1,"updated":"2022-03-29T06:58:07.860Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibu700012wthf5hbbsn3","content":"<p><a href=\"\">原型链和原型</a></p>\n<p><a href=\"\">作用域、作用域链和执行上下文</a></p>\n<p><a href=\"\">JS继承</a></p>\n<p><a href=\"\">数据类型</a></p>\n<p><a href=\"\">类型判断</a></p>\n<p><a href=\"\">var、const、let 对比</a></p>\n<p><a href=\"\">es next 最新规范</a></p>\n<p><a href=\"\">new 的过程</a></p>\n<p><a href=\"\">this 指向问题</a></p>\n<p><a href=\"/2022/03/29/%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/\">call、apply、bind 实现方式</a></p>\n<p><a href=\"\">闭包</a></p>\n<p><a href=\"\">事件循环 </a></p>\n<p><a href=\"/2022/03/28/Promise%E5%AF%B9%E8%B1%A1/\">Promise对象</a></p>\n<p><a href=\"\">asnyc&amp;await</a></p>\n<p><a href=\"\">异步&amp;同步</a></p>\n<p><a href=\"/2022/03/22/%E6%B7%B1%E3%80%81%E6%B5%85%E6%8B%B7%E8%B4%9D/\">深拷贝&amp;浅拷贝</a></p>\n<p><a href=\"\">ES6新语法</a></p>\n<p><a href=\"\">实现多页签通讯</a></p>\n<p><a href=\"\">原生JS遍历时获取下标的三种方式</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"\">原型链和原型</a></p>\n<p><a href=\"\">作用域、作用域链和执行上下文</a></p>\n<p><a href=\"\">JS继承</a></p>\n<p><a href=\"\">数据类型</a></p>\n<p><a href=\"\">类型判断</a></p>\n<p><a href=\"\">var、const、let 对比</a></p>\n<p><a href=\"\">es next 最新规范</a></p>\n<p><a href=\"\">new 的过程</a></p>\n<p><a href=\"\">this 指向问题</a></p>\n<p><a href=\"/2022/03/29/%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/\">call、apply、bind 实现方式</a></p>\n<p><a href=\"\">闭包</a></p>\n<p><a href=\"\">事件循环 </a></p>\n<p><a href=\"/2022/03/28/Promise%E5%AF%B9%E8%B1%A1/\">Promise对象</a></p>\n<p><a href=\"\">asnyc&amp;await</a></p>\n<p><a href=\"\">异步&amp;同步</a></p>\n<p><a href=\"/2022/03/22/%E6%B7%B1%E3%80%81%E6%B5%85%E6%8B%B7%E8%B4%9D/\">深拷贝&amp;浅拷贝</a></p>\n<p><a href=\"\">ES6新语法</a></p>\n<p><a href=\"\">实现多页签通讯</a></p>\n<p><a href=\"\">原生JS遍历时获取下标的三种方式</a></p>\n"},{"title":"Promise对象","date":"2022-03-28T05:48:31.000Z","_content":"\n`Promise`对象用来表示一个异步操作的最终完成（或失败）及其结果值。异步编程的一种解决方案。\n\n`Promise`有三种状态：`pending`进行中、`fulfilled`已成功、`rejected`已失败\n\n![](/images/promise.jpg)\n\n用法：\n\n```js\nfunction fn(num){\n    return new Promise((resolve,reject)=>{\n    \tif (typeof num == 'number') {\n            resolve(num);\n        } else {\n            reject('TypeError');\n        }\n\t})\n}\n// 两秒之后输出成功\nfn(2).then(res=>{\n    console.log(res)\n})\n```\n\n`Promise.all()`的用法 ，接收一个数组参数，并行执行异步操作，等到都执行完之后才会放到then里面。都成功之后执行`resolve`回调返回的是一个数组，如果有任何一个`reject`回调执行或者输入不合法会立即抛出错误，并且`reject`的是第一个抛出的错误信息\n\n```js\nlet promise1 = Promise.resolve(\"qizhenyuan\");\nlet promise2 = new Promise((resolve,reject)=>{\n    resolve(\"很帅\")\n})\nPromise.all([promise1,promise2]).then(values=>{\n    console.log(values) // ['qizhenyuan', '很帅']\n})\n\n// 有reject\nlet promise3 = Promise.resolve(\"qizhenyuan\");\nlet promise4 = new Promise((resolve,reject)=>{\n    reject(\"111\")\n})\nlet promise5 = new Promise((resolve,reject)=>{\n    resolve(\"222\")\n})\nlet p = Promise.all([promise3,promise4,promise5])\np.catch() // Promise {<rejected>: '111'}\n```\n\n`Promise.allSettled()`的用法，接收一个数组参数，返回一个在所有给定的promise都已经`fulfilled`或者`rejected`后的promise,并带有一个对象数组，每个对象表示对应的promise结果\n\n```js\nconst promise1 = Promise.resolve(2);\nconst promise2 = new Promise((resolve,reject)=>{\n    reject(22)\n});\nconst promiseList=[promise1,promise2]\nPromise.allSettled(promiseList).then(result=>{\n    console.log(result) \n})\n// output:\n// [{status:\"fulfilled\",value:2},{status:\"rejected\",reason:22}]\n```\n\n`Promise.any()`的用法，接收一个数组参数，用于返回第一个成功的`promise`。只要有一个`Promise`成功方法就会终止。如果所传入的`promises`都失败，将返回异步失败。\n\n```js\nconst promise1 = Promise.resolve(2);\nconst promise2 = new Promise((resolve,reject)=>{\n    setTimeout(()=>{\n        resolve(3)\n    })\n});\nPromise.any([promise1,promise2]).then(res=>{\n    console.log(res) // 2\n})\n\nconst promise3 = Promise.reject(3);\nconst promise4 = new Promise((resolve,reject)=>{\n    reject(5)\n});\nPromise.any([promise3,promise4]).then(res=>{\n    console.log(res) \n}).catch(err=>{\n    console.log(err)  //AggregateError: All promises were rejected\n})\n\n```\n\n`Promise.race()`的用法，接收一个数组参数，只要有一个`Promise`成功或者失败，返回的就是成功或者失败。如果迭代包含一个或多个非承诺值和/或已解决/拒绝的承诺，则` Promise.race` 将解析为迭代中找到的第一个值。\n\n```js\nconst promise1 = new Promise((res,rej)=>{\n    res(\"111\")\n})\nconst promise2 = new Promise((res,rej)=>{\n    rej(new Error(\"错误\"))\n})\nPromise.race([promise1,promise2]).then(res=>{\n    console.log(res)\n}).catch(err=>{\n    console.log(err)\n})\n//output:111\n```\n\n手写Promise\n\n```js\nconst PENDING = \"pending\";\nconst FULFILLED = \"fulfilled\";\nconst REJECTED = \"rejected\";\nfunction Promise(executor) {\n    var _this = this;\n    this.status = PENDING;\n    this.value = undefined; //成功结果\n    this.reason = undefined; //失败原因\n    this.onFulfilled = []; //成功回调\n    this.onRejected = []; //失败回调\n    function resolve(value) {\n        if (_this.status === 'pending') {\n            _this.status = FULFILLED;\n            _this.value = value;\n            _this.onFulfilled.forEach(fn => fn(value))\n        }\n    }\n    function reject(reason) {\n        if (_this.status === 'pending') {\n            _this.status = REJECTED;\n            _this.reason = reason;\n            _this.onRejected.forEach(fn => fn(reason))\n        }\n    }\n    try {\n        executor(resolve, reject)\n    } catch (e) {\n        reject(e)\n    }\n}\n//`then`方法必须返回一个promise对象 promise.then(resFn,rejFn)\nPromise.prototype.then = function (onFulfilled, onRejected) {\n    onFulfilled = typeof onFulfilled == \"function\" ? onFulfilled : undefined;\n    onRejected = typeof onRejected == \"function\" ? onRejected : undefined;\n    return new Promise((resolve, reject) => {\n        if (this.status == FULFILLED) {\n            onFulfilled(this.value)\n        } else if (this.status == REJECTED) {\n            onRejected(this.reason)\n        } else {\n            this.onFulfilled.push(onFulfilled(this.value));\n            this.onRejected.push(onRejected(this.reason));\n        }\n    })\n}\n\nmodule.exports = Promise\n```\n\n","source":"_posts/Promise对象.md","raw":"---\ntitle: Promise对象\ndate: 2022-03-28 13:48:31\ntags: [js,es6]\n---\n\n`Promise`对象用来表示一个异步操作的最终完成（或失败）及其结果值。异步编程的一种解决方案。\n\n`Promise`有三种状态：`pending`进行中、`fulfilled`已成功、`rejected`已失败\n\n![](/images/promise.jpg)\n\n用法：\n\n```js\nfunction fn(num){\n    return new Promise((resolve,reject)=>{\n    \tif (typeof num == 'number') {\n            resolve(num);\n        } else {\n            reject('TypeError');\n        }\n\t})\n}\n// 两秒之后输出成功\nfn(2).then(res=>{\n    console.log(res)\n})\n```\n\n`Promise.all()`的用法 ，接收一个数组参数，并行执行异步操作，等到都执行完之后才会放到then里面。都成功之后执行`resolve`回调返回的是一个数组，如果有任何一个`reject`回调执行或者输入不合法会立即抛出错误，并且`reject`的是第一个抛出的错误信息\n\n```js\nlet promise1 = Promise.resolve(\"qizhenyuan\");\nlet promise2 = new Promise((resolve,reject)=>{\n    resolve(\"很帅\")\n})\nPromise.all([promise1,promise2]).then(values=>{\n    console.log(values) // ['qizhenyuan', '很帅']\n})\n\n// 有reject\nlet promise3 = Promise.resolve(\"qizhenyuan\");\nlet promise4 = new Promise((resolve,reject)=>{\n    reject(\"111\")\n})\nlet promise5 = new Promise((resolve,reject)=>{\n    resolve(\"222\")\n})\nlet p = Promise.all([promise3,promise4,promise5])\np.catch() // Promise {<rejected>: '111'}\n```\n\n`Promise.allSettled()`的用法，接收一个数组参数，返回一个在所有给定的promise都已经`fulfilled`或者`rejected`后的promise,并带有一个对象数组，每个对象表示对应的promise结果\n\n```js\nconst promise1 = Promise.resolve(2);\nconst promise2 = new Promise((resolve,reject)=>{\n    reject(22)\n});\nconst promiseList=[promise1,promise2]\nPromise.allSettled(promiseList).then(result=>{\n    console.log(result) \n})\n// output:\n// [{status:\"fulfilled\",value:2},{status:\"rejected\",reason:22}]\n```\n\n`Promise.any()`的用法，接收一个数组参数，用于返回第一个成功的`promise`。只要有一个`Promise`成功方法就会终止。如果所传入的`promises`都失败，将返回异步失败。\n\n```js\nconst promise1 = Promise.resolve(2);\nconst promise2 = new Promise((resolve,reject)=>{\n    setTimeout(()=>{\n        resolve(3)\n    })\n});\nPromise.any([promise1,promise2]).then(res=>{\n    console.log(res) // 2\n})\n\nconst promise3 = Promise.reject(3);\nconst promise4 = new Promise((resolve,reject)=>{\n    reject(5)\n});\nPromise.any([promise3,promise4]).then(res=>{\n    console.log(res) \n}).catch(err=>{\n    console.log(err)  //AggregateError: All promises were rejected\n})\n\n```\n\n`Promise.race()`的用法，接收一个数组参数，只要有一个`Promise`成功或者失败，返回的就是成功或者失败。如果迭代包含一个或多个非承诺值和/或已解决/拒绝的承诺，则` Promise.race` 将解析为迭代中找到的第一个值。\n\n```js\nconst promise1 = new Promise((res,rej)=>{\n    res(\"111\")\n})\nconst promise2 = new Promise((res,rej)=>{\n    rej(new Error(\"错误\"))\n})\nPromise.race([promise1,promise2]).then(res=>{\n    console.log(res)\n}).catch(err=>{\n    console.log(err)\n})\n//output:111\n```\n\n手写Promise\n\n```js\nconst PENDING = \"pending\";\nconst FULFILLED = \"fulfilled\";\nconst REJECTED = \"rejected\";\nfunction Promise(executor) {\n    var _this = this;\n    this.status = PENDING;\n    this.value = undefined; //成功结果\n    this.reason = undefined; //失败原因\n    this.onFulfilled = []; //成功回调\n    this.onRejected = []; //失败回调\n    function resolve(value) {\n        if (_this.status === 'pending') {\n            _this.status = FULFILLED;\n            _this.value = value;\n            _this.onFulfilled.forEach(fn => fn(value))\n        }\n    }\n    function reject(reason) {\n        if (_this.status === 'pending') {\n            _this.status = REJECTED;\n            _this.reason = reason;\n            _this.onRejected.forEach(fn => fn(reason))\n        }\n    }\n    try {\n        executor(resolve, reject)\n    } catch (e) {\n        reject(e)\n    }\n}\n//`then`方法必须返回一个promise对象 promise.then(resFn,rejFn)\nPromise.prototype.then = function (onFulfilled, onRejected) {\n    onFulfilled = typeof onFulfilled == \"function\" ? onFulfilled : undefined;\n    onRejected = typeof onRejected == \"function\" ? onRejected : undefined;\n    return new Promise((resolve, reject) => {\n        if (this.status == FULFILLED) {\n            onFulfilled(this.value)\n        } else if (this.status == REJECTED) {\n            onRejected(this.reason)\n        } else {\n            this.onFulfilled.push(onFulfilled(this.value));\n            this.onRejected.push(onRejected(this.reason));\n        }\n    })\n}\n\nmodule.exports = Promise\n```\n\n","slug":"Promise对象","published":1,"updated":"2022-03-29T01:56:18.149Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibu900022wthcne69jyu","content":"<p><code>Promise</code>对象用来表示一个异步操作的最终完成（或失败）及其结果值。异步编程的一种解决方案。</p>\n<p><code>Promise</code>有三种状态：<code>pending</code>进行中、<code>fulfilled</code>已成功、<code>rejected</code>已失败</p>\n<p><img src=\"/images/promise.jpg\"></p>\n<p>用法：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\">num</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    \t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> num == <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(num);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;TypeError&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 两秒之后输出成功</span></span><br><span class=\"line\"><span class=\"title function_\">fn</span>(<span class=\"number\">2</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.all()</code>的用法 ，接收一个数组参数，并行执行异步操作，等到都执行完之后才会放到then里面。都成功之后执行<code>resolve</code>回调返回的是一个数组，如果有任何一个<code>reject</code>回调执行或者输入不合法会立即抛出错误，并且<code>reject</code>的是第一个抛出的错误信息</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> promise1 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;qizhenyuan&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;很帅&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">all</span>([promise1,promise2]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">values</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(values) <span class=\"comment\">// [&#x27;qizhenyuan&#x27;, &#x27;很帅&#x27;]</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 有reject</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> promise3 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;qizhenyuan&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> promise4 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"string\">&quot;111&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> promise5 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;222&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">all</span>([promise3,promise4,promise5])</span><br><span class=\"line\">p.<span class=\"title function_\">catch</span>() <span class=\"comment\">// Promise &#123;&lt;rejected&gt;: &#x27;111&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.allSettled()</code>的用法，接收一个数组参数，返回一个在所有给定的promise都已经<code>fulfilled</code>或者<code>rejected</code>后的promise,并带有一个对象数组，每个对象表示对应的promise结果</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise1 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"number\">22</span>)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promiseList=[promise1,promise2]</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">allSettled</span>(promiseList).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// output:</span></span><br><span class=\"line\"><span class=\"comment\">// [&#123;status:&quot;fulfilled&quot;,value:2&#125;,&#123;status:&quot;rejected&quot;,reason:22&#125;]</span></span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.any()</code>的用法，接收一个数组参数，用于返回第一个成功的<code>promise</code>。只要有一个<code>Promise</code>成功方法就会终止。如果所传入的<code>promises</code>都失败，将返回异步失败。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise1 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"number\">3</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">any</span>([promise1,promise2]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res) <span class=\"comment\">// 2</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> promise3 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise4 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"number\">5</span>)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">any</span>([promise3,promise4]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res) </span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">err</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)  <span class=\"comment\">//AggregateError: All promises were rejected</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.race()</code>的用法，接收一个数组参数，只要有一个<code>Promise</code>成功或者失败，返回的就是成功或者失败。如果迭代包含一个或多个非承诺值和/或已解决/拒绝的承诺，则<code> Promise.race</code> 将解析为迭代中找到的第一个值。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">res,rej</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">res</span>(<span class=\"string\">&quot;111&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">res,rej</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">rej</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;错误&quot;</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">race</span>([promise1,promise2]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">err</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">//output:111</span></span><br></pre></td></tr></table></figure>\n\n<p>手写Promise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PENDING</span> = <span class=\"string\">&quot;pending&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">FULFILLED</span> = <span class=\"string\">&quot;fulfilled&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">REJECTED</span> = <span class=\"string\">&quot;rejected&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Promise</span>(<span class=\"params\">executor</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> _this = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = <span class=\"variable constant_\">PENDING</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"literal\">undefined</span>; <span class=\"comment\">//成功结果</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">reason</span> = <span class=\"literal\">undefined</span>; <span class=\"comment\">//失败原因</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">onFulfilled</span> = []; <span class=\"comment\">//成功回调</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">onRejected</span> = []; <span class=\"comment\">//失败回调</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">resolve</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (_this.<span class=\"property\">status</span> === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">            _this.<span class=\"property\">status</span> = <span class=\"variable constant_\">FULFILLED</span>;</span><br><span class=\"line\">            _this.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">            _this.<span class=\"property\">onFulfilled</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">fn</span> =&gt;</span> <span class=\"title function_\">fn</span>(value))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">reject</span>(<span class=\"params\">reason</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (_this.<span class=\"property\">status</span> === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">            _this.<span class=\"property\">status</span> = <span class=\"variable constant_\">REJECTED</span>;</span><br><span class=\"line\">            _this.<span class=\"property\">reason</span> = reason;</span><br><span class=\"line\">            _this.<span class=\"property\">onRejected</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">fn</span> =&gt;</span> <span class=\"title function_\">fn</span>(reason))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">executor</span>(resolve, reject)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(e)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//`then`方法必须返回一个promise对象 promise.then(resFn,rejFn)</span></span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">then</span> = <span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled, onRejected</span>) &#123;</span><br><span class=\"line\">    onFulfilled = <span class=\"keyword\">typeof</span> onFulfilled == <span class=\"string\">&quot;function&quot;</span> ? onFulfilled : <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    onRejected = <span class=\"keyword\">typeof</span> onRejected == <span class=\"string\">&quot;function&quot;</span> ? onRejected : <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> == <span class=\"variable constant_\">FULFILLED</span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">onFulfilled</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> == <span class=\"variable constant_\">REJECTED</span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">onRejected</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">reason</span>)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">onFulfilled</span>.<span class=\"title function_\">push</span>(<span class=\"title function_\">onFulfilled</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>));</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">onRejected</span>.<span class=\"title function_\">push</span>(<span class=\"title function_\">onRejected</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">reason</span>));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">Promise</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<p><code>Promise</code>对象用来表示一个异步操作的最终完成（或失败）及其结果值。异步编程的一种解决方案。</p>\n<p><code>Promise</code>有三种状态：<code>pending</code>进行中、<code>fulfilled</code>已成功、<code>rejected</code>已失败</p>\n<p><img src=\"/images/promise.jpg\"></p>\n<p>用法：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\">num</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    \t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> num == <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(num);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;TypeError&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 两秒之后输出成功</span></span><br><span class=\"line\"><span class=\"title function_\">fn</span>(<span class=\"number\">2</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.all()</code>的用法 ，接收一个数组参数，并行执行异步操作，等到都执行完之后才会放到then里面。都成功之后执行<code>resolve</code>回调返回的是一个数组，如果有任何一个<code>reject</code>回调执行或者输入不合法会立即抛出错误，并且<code>reject</code>的是第一个抛出的错误信息</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> promise1 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;qizhenyuan&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;很帅&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">all</span>([promise1,promise2]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">values</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(values) <span class=\"comment\">// [&#x27;qizhenyuan&#x27;, &#x27;很帅&#x27;]</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 有reject</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> promise3 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;qizhenyuan&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> promise4 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"string\">&quot;111&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> promise5 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;222&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">all</span>([promise3,promise4,promise5])</span><br><span class=\"line\">p.<span class=\"title function_\">catch</span>() <span class=\"comment\">// Promise &#123;&lt;rejected&gt;: &#x27;111&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.allSettled()</code>的用法，接收一个数组参数，返回一个在所有给定的promise都已经<code>fulfilled</code>或者<code>rejected</code>后的promise,并带有一个对象数组，每个对象表示对应的promise结果</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise1 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"number\">22</span>)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promiseList=[promise1,promise2]</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">allSettled</span>(promiseList).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// output:</span></span><br><span class=\"line\"><span class=\"comment\">// [&#123;status:&quot;fulfilled&quot;,value:2&#125;,&#123;status:&quot;rejected&quot;,reason:22&#125;]</span></span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.any()</code>的用法，接收一个数组参数，用于返回第一个成功的<code>promise</code>。只要有一个<code>Promise</code>成功方法就会终止。如果所传入的<code>promises</code>都失败，将返回异步失败。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise1 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"number\">3</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">any</span>([promise1,promise2]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res) <span class=\"comment\">// 2</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> promise3 = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise4 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"number\">5</span>)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">any</span>([promise3,promise4]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res) </span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">err</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)  <span class=\"comment\">//AggregateError: All promises were rejected</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>Promise.race()</code>的用法，接收一个数组参数，只要有一个<code>Promise</code>成功或者失败，返回的就是成功或者失败。如果迭代包含一个或多个非承诺值和/或已解决/拒绝的承诺，则<code> Promise.race</code> 将解析为迭代中找到的第一个值。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">res,rej</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">res</span>(<span class=\"string\">&quot;111&quot;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">const</span> promise2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">res,rej</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">rej</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;错误&quot;</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">race</span>([promise1,promise2]).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">err</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">//output:111</span></span><br></pre></td></tr></table></figure>\n\n<p>手写Promise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PENDING</span> = <span class=\"string\">&quot;pending&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">FULFILLED</span> = <span class=\"string\">&quot;fulfilled&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">REJECTED</span> = <span class=\"string\">&quot;rejected&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Promise</span>(<span class=\"params\">executor</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> _this = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = <span class=\"variable constant_\">PENDING</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"literal\">undefined</span>; <span class=\"comment\">//成功结果</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">reason</span> = <span class=\"literal\">undefined</span>; <span class=\"comment\">//失败原因</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">onFulfilled</span> = []; <span class=\"comment\">//成功回调</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">onRejected</span> = []; <span class=\"comment\">//失败回调</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">resolve</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (_this.<span class=\"property\">status</span> === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">            _this.<span class=\"property\">status</span> = <span class=\"variable constant_\">FULFILLED</span>;</span><br><span class=\"line\">            _this.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">            _this.<span class=\"property\">onFulfilled</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">fn</span> =&gt;</span> <span class=\"title function_\">fn</span>(value))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">reject</span>(<span class=\"params\">reason</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (_this.<span class=\"property\">status</span> === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">            _this.<span class=\"property\">status</span> = <span class=\"variable constant_\">REJECTED</span>;</span><br><span class=\"line\">            _this.<span class=\"property\">reason</span> = reason;</span><br><span class=\"line\">            _this.<span class=\"property\">onRejected</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">fn</span> =&gt;</span> <span class=\"title function_\">fn</span>(reason))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">executor</span>(resolve, reject)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(e)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//`then`方法必须返回一个promise对象 promise.then(resFn,rejFn)</span></span><br><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">then</span> = <span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled, onRejected</span>) &#123;</span><br><span class=\"line\">    onFulfilled = <span class=\"keyword\">typeof</span> onFulfilled == <span class=\"string\">&quot;function&quot;</span> ? onFulfilled : <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    onRejected = <span class=\"keyword\">typeof</span> onRejected == <span class=\"string\">&quot;function&quot;</span> ? onRejected : <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> == <span class=\"variable constant_\">FULFILLED</span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">onFulfilled</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> == <span class=\"variable constant_\">REJECTED</span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">onRejected</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">reason</span>)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">onFulfilled</span>.<span class=\"title function_\">push</span>(<span class=\"title function_\">onFulfilled</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>));</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">onRejected</span>.<span class=\"title function_\">push</span>(<span class=\"title function_\">onRejected</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">reason</span>));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">Promise</span></span><br></pre></td></tr></table></figure>\n\n"},{"title":"Vuex搞懂5大核心概念","date":"2022-03-21T10:02:38.000Z","_content":"\n#### Vuex是什么？\n\nVuex是全局状态管理器，集中式存储管理应用的所有组件状态。[官网解释](https://vuex.vuejs.org/zh/)\n\n#### Vuex的核心概念\n\n一、 **state**单一状态树，用一个对象就包含了全部的应用层状态；\n\n```js\nimport {createApp} from \"vue\"\nimport {createStore} from \"vuex\"\nconst store = createStore({\n    state(){\n        count:0\n    },\n    getters:{},\n    mutations:{\n    \tadd(state){\n    \t\tstate.count++\n\t\t}\n\t},\n    actions:{},\n    modules:{}\n})\nconst app = createApp({/*根组件*/})\napp.use(store)\n```\n\n可以通过`store.state`获取状态对象，`state.commit('add')`方法触发变更；\n\n在Vue组件中,可以通过`this.$store`来获取状态对象，`this.$store.commit()`方法触发变更；\n\n```js\nmethods:{\n   add(){\n        console.log(this.$store.state.count);\n        this.$store.commit(\"add\");\n    }\n}\n```\n\n当一个组件需要获取多个状态时，将这些状态都声明为计算属性会重复和冗余，我们可以使用`mapSate`辅助函数帮我们生成计算属性。\n\n```js\nimport {mapState } from \"vuex\"\nexport default{\n    computed:{\n       \t...mapState({\n            count:state=>state.count,\n            countAlias:'count',\n            countState(state){\n            \treturn state.count\n            }\n        }),\n        value(){return 1}\n    }\n}\n```\n\n当映射的计算属行名称与state的子节点名称一致，可以传入一个字符串数组\n\n```js\ncomputed:{\n\t...mapState([\"count\"])\n}\n```\n\n二、**Getter** 相当于vue中得计算属性，通过getter进一步处理，接受传参。\n\n```js\nimport Vue from \"vue\"\nimport Vuex from \"vuex\"\nVue.use(Vuex)\nexport default new Vuex.store({\n    state:{\n        nickName:\"张\",\n        firstName:\"无极\",\n        todos:[{id:1,name:\"1\"},{id:2,name:\"2\"}]\n    }\n    getters:{\n    \trealName(state){\n             return state.nickName+state.firstName\n        }\n        getTodoId:(state)=>(id)=>{\n            return state.todos.find(todo=>todo.id === id)\n        }\n    }\n})\n\n\n/*在组件中使用 {{realName}} {{getTodoId(2)}} */\ncomputed(){ //computed是不能传参数的\n    realName(){\n        return this.$store.getters.realName /* 通过属性访问*/\n    },\n    getTodoId(){ //不在此处接收传入的值\n        return function(val){ //先return一个函数,把属性变成函数属性,参数接收传入的值\n            return this.$store.getters.getTodoId(val) //再return出计算结果\n        }\n    }\n}\n\n```\n\n使用 **mapGetters** 辅助函数 ，将store中得getter映射到局部计算属性\n\n```js\nimport {mapGetters} from \"vuex\"\nexport default{\n    //...\n    computed:{\n        ...mapGetters([\"realName\"])\n    }\n}\n```\n\n\n\n三、**Mutation** 更改Vuex的store中的状态的唯一提交方法是提交mutation。必须是同步函数\n\n```js\nconst store = createStore({\n    state:{\n        count:1\n    }\n    mutations:{\n        add(state,num){\n   \t\t    state.count+=num\n        }\n    }\n})\n```\n\n在组件中使用，可以使用`this.$store.commit(\"xxx\")`提交mutation,或者使用`mapMutations` 辅助函数；\n\n```js\nimport { mapMutations } from \"vuex\"\nexport default({\n    //...\n    methods:{\n        ...mapMutations ([\n            'add', //将 `this.add(num)` 映射为 `this.$store.commit('add', num)`\n        ]),\n        add(){\n            this.$store.commit(\"add\",1)\n        }\n    }\n})\n```\n\n四、Action  提交的是mutation,而不是直接变更状态；可以包含任意异步操作\n\n```js\nconst store = createStore({\n    state:{\n        count:0\n    }\n    mutations:{\n        add(state){\n    \t\tstate.count++\n        }\n    },\n    actions:{\n        increment(context){\n            setTimeOut(()=>{\n                context.commit(\"add\")\n            },1000)\n        }\n    }\n})\n```\n\n在组件中分发Actions,使用`this.$dispath(\"xxx\")`分发，或者使用`mapActions`辅助函数将组件的`methods`映射为`store.dispath`调用\n\n```js\nimport { mapActions } from \"vuex\"\nexport default{\n    //...\n    methods:{\n        ...mapActions([\"increment\"])\n    }\n}\n```\n\n\n\n五、**Module** Vuex允许将store切割成模块 \n\n```js\nconst moduleA = {\n  state: () => ({ ... }),\n  mutations: { ... },\n  actions: { ... },\n  getters: { ... }\n}\n\nconst moduleB = {\n  state: () => ({ ... }),\n  mutations: { ... },\n  actions: { ... }\n}\n\nconst store = createStore({\n  modules: {\n    a: moduleA,\n    b: moduleB\n  }\n})\n\nstore.state.a // -> moduleA 的状态\nstore.state.b // -> moduleB 的状态\n```\n\n","source":"_posts/Vuex学习.md","raw":"---\ntitle: Vuex搞懂5大核心概念\ndate: 2022-03-21 18:02:38\ntags: [vue,vuex]\n---\n\n#### Vuex是什么？\n\nVuex是全局状态管理器，集中式存储管理应用的所有组件状态。[官网解释](https://vuex.vuejs.org/zh/)\n\n#### Vuex的核心概念\n\n一、 **state**单一状态树，用一个对象就包含了全部的应用层状态；\n\n```js\nimport {createApp} from \"vue\"\nimport {createStore} from \"vuex\"\nconst store = createStore({\n    state(){\n        count:0\n    },\n    getters:{},\n    mutations:{\n    \tadd(state){\n    \t\tstate.count++\n\t\t}\n\t},\n    actions:{},\n    modules:{}\n})\nconst app = createApp({/*根组件*/})\napp.use(store)\n```\n\n可以通过`store.state`获取状态对象，`state.commit('add')`方法触发变更；\n\n在Vue组件中,可以通过`this.$store`来获取状态对象，`this.$store.commit()`方法触发变更；\n\n```js\nmethods:{\n   add(){\n        console.log(this.$store.state.count);\n        this.$store.commit(\"add\");\n    }\n}\n```\n\n当一个组件需要获取多个状态时，将这些状态都声明为计算属性会重复和冗余，我们可以使用`mapSate`辅助函数帮我们生成计算属性。\n\n```js\nimport {mapState } from \"vuex\"\nexport default{\n    computed:{\n       \t...mapState({\n            count:state=>state.count,\n            countAlias:'count',\n            countState(state){\n            \treturn state.count\n            }\n        }),\n        value(){return 1}\n    }\n}\n```\n\n当映射的计算属行名称与state的子节点名称一致，可以传入一个字符串数组\n\n```js\ncomputed:{\n\t...mapState([\"count\"])\n}\n```\n\n二、**Getter** 相当于vue中得计算属性，通过getter进一步处理，接受传参。\n\n```js\nimport Vue from \"vue\"\nimport Vuex from \"vuex\"\nVue.use(Vuex)\nexport default new Vuex.store({\n    state:{\n        nickName:\"张\",\n        firstName:\"无极\",\n        todos:[{id:1,name:\"1\"},{id:2,name:\"2\"}]\n    }\n    getters:{\n    \trealName(state){\n             return state.nickName+state.firstName\n        }\n        getTodoId:(state)=>(id)=>{\n            return state.todos.find(todo=>todo.id === id)\n        }\n    }\n})\n\n\n/*在组件中使用 {{realName}} {{getTodoId(2)}} */\ncomputed(){ //computed是不能传参数的\n    realName(){\n        return this.$store.getters.realName /* 通过属性访问*/\n    },\n    getTodoId(){ //不在此处接收传入的值\n        return function(val){ //先return一个函数,把属性变成函数属性,参数接收传入的值\n            return this.$store.getters.getTodoId(val) //再return出计算结果\n        }\n    }\n}\n\n```\n\n使用 **mapGetters** 辅助函数 ，将store中得getter映射到局部计算属性\n\n```js\nimport {mapGetters} from \"vuex\"\nexport default{\n    //...\n    computed:{\n        ...mapGetters([\"realName\"])\n    }\n}\n```\n\n\n\n三、**Mutation** 更改Vuex的store中的状态的唯一提交方法是提交mutation。必须是同步函数\n\n```js\nconst store = createStore({\n    state:{\n        count:1\n    }\n    mutations:{\n        add(state,num){\n   \t\t    state.count+=num\n        }\n    }\n})\n```\n\n在组件中使用，可以使用`this.$store.commit(\"xxx\")`提交mutation,或者使用`mapMutations` 辅助函数；\n\n```js\nimport { mapMutations } from \"vuex\"\nexport default({\n    //...\n    methods:{\n        ...mapMutations ([\n            'add', //将 `this.add(num)` 映射为 `this.$store.commit('add', num)`\n        ]),\n        add(){\n            this.$store.commit(\"add\",1)\n        }\n    }\n})\n```\n\n四、Action  提交的是mutation,而不是直接变更状态；可以包含任意异步操作\n\n```js\nconst store = createStore({\n    state:{\n        count:0\n    }\n    mutations:{\n        add(state){\n    \t\tstate.count++\n        }\n    },\n    actions:{\n        increment(context){\n            setTimeOut(()=>{\n                context.commit(\"add\")\n            },1000)\n        }\n    }\n})\n```\n\n在组件中分发Actions,使用`this.$dispath(\"xxx\")`分发，或者使用`mapActions`辅助函数将组件的`methods`映射为`store.dispath`调用\n\n```js\nimport { mapActions } from \"vuex\"\nexport default{\n    //...\n    methods:{\n        ...mapActions([\"increment\"])\n    }\n}\n```\n\n\n\n五、**Module** Vuex允许将store切割成模块 \n\n```js\nconst moduleA = {\n  state: () => ({ ... }),\n  mutations: { ... },\n  actions: { ... },\n  getters: { ... }\n}\n\nconst moduleB = {\n  state: () => ({ ... }),\n  mutations: { ... },\n  actions: { ... }\n}\n\nconst store = createStore({\n  modules: {\n    a: moduleA,\n    b: moduleB\n  }\n})\n\nstore.state.a // -> moduleA 的状态\nstore.state.b // -> moduleB 的状态\n```\n\n","slug":"Vuex学习","published":1,"updated":"2022-03-29T02:26:40.250Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibud00042wth7tjuhmdv","content":"<h4 id=\"Vuex是什么？\"><a href=\"#Vuex是什么？\" class=\"headerlink\" title=\"Vuex是什么？\"></a>Vuex是什么？</h4><p>Vuex是全局状态管理器，集中式存储管理应用的所有组件状态。<a href=\"https://vuex.vuejs.org/zh/\">官网解释</a></p>\n<h4 id=\"Vuex的核心概念\"><a href=\"#Vuex的核心概念\" class=\"headerlink\" title=\"Vuex的核心概念\"></a>Vuex的核心概念</h4><p>一、 <strong>state</strong>单一状态树，用一个对象就包含了全部的应用层状态；</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;createApp&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;createStore&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">    <span class=\"title function_\">state</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"attr\">count</span>:<span class=\"number\">0</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">getters</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">    \t<span class=\"title function_\">add</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">    \t\tstate.<span class=\"property\">count</span>++</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">    <span class=\"attr\">actions</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">modules</span>:&#123;&#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(&#123;<span class=\"comment\">/*根组件*/</span>&#125;)</span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(store)</span><br></pre></td></tr></table></figure>\n\n<p>可以通过<code>store.state</code>获取状态对象，<code>state.commit(&#39;add&#39;)</code>方法触发变更；</p>\n<p>在Vue组件中,可以通过<code>this.$store</code>来获取状态对象，<code>this.$store.commit()</code>方法触发变更；</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">   <span class=\"title function_\">add</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">state</span>.<span class=\"property\">count</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;add&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>当一个组件需要获取多个状态时，将这些状态都声明为计算属性会重复和冗余，我们可以使用<code>mapSate</code>辅助函数帮我们生成计算属性。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;mapState &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span><br><span class=\"line\">    <span class=\"attr\">computed</span>:&#123;</span><br><span class=\"line\">       \t...<span class=\"title function_\">mapState</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">count</span>:<span class=\"function\"><span class=\"params\">state</span>=&gt;</span>state.<span class=\"property\">count</span>,</span><br><span class=\"line\">            <span class=\"attr\">countAlias</span>:<span class=\"string\">&#x27;count&#x27;</span>,</span><br><span class=\"line\">            <span class=\"title function_\">countState</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">            \t<span class=\"keyword\">return</span> state.<span class=\"property\">count</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        <span class=\"title function_\">value</span>(<span class=\"params\"></span>)&#123;<span class=\"keyword\">return</span> <span class=\"number\">1</span>&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>当映射的计算属行名称与state的子节点名称一致，可以传入一个字符串数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>:&#123;</span><br><span class=\"line\">\t...<span class=\"title function_\">mapState</span>([<span class=\"string\">&quot;count&quot;</span>])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>二、<strong>Getter</strong> 相当于vue中得计算属性，通过getter进一步处理，接受传参。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuex</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuex</span>)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title function_\">store</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">state</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">nickName</span>:<span class=\"string\">&quot;张&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">firstName</span>:<span class=\"string\">&quot;无极&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">todos</span>:[&#123;<span class=\"attr\">id</span>:<span class=\"number\">1</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;1&quot;</span>&#125;,&#123;<span class=\"attr\">id</span>:<span class=\"number\">2</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;2&quot;</span>&#125;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"attr\">getters</span>:&#123;</span><br><span class=\"line\">    \t<span class=\"title function_\">realName</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">             <span class=\"keyword\">return</span> state.<span class=\"property\">nickName</span>+state.<span class=\"property\">firstName</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"attr\">getTodoId</span>:<span class=\"function\">(<span class=\"params\">state</span>)=&gt;</span><span class=\"function\">(<span class=\"params\">id</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> state.<span class=\"property\">todos</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">todo</span>=&gt;</span>todo.<span class=\"property\">id</span> === id)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*在组件中使用 &#123;&#123;realName&#125;&#125; &#123;&#123;getTodoId(2)&#125;&#125; */</span></span><br><span class=\"line\"><span class=\"title function_\">computed</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//computed是不能传参数的</span></span><br><span class=\"line\">    <span class=\"title function_\">realName</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">getters</span>.<span class=\"property\">realName</span> <span class=\"comment\">/* 通过属性访问*/</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">getTodoId</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//不在此处接收传入的值</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\">val</span>)&#123; <span class=\"comment\">//先return一个函数,把属性变成函数属性,参数接收传入的值</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">getters</span>.<span class=\"title function_\">getTodoId</span>(val) <span class=\"comment\">//再return出计算结果</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>使用 <strong>mapGetters</strong> 辅助函数 ，将store中得getter映射到局部计算属性</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;mapGetters&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"attr\">computed</span>:&#123;</span><br><span class=\"line\">        ...<span class=\"title function_\">mapGetters</span>([<span class=\"string\">&quot;realName&quot;</span>])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>三、<strong>Mutation</strong> 更改Vuex的store中的状态的唯一提交方法是提交mutation。必须是同步函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">state</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">count</span>:<span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">        <span class=\"title function_\">add</span>(<span class=\"params\">state,num</span>)&#123;</span><br><span class=\"line\">   \t\t    state.<span class=\"property\">count</span>+=num</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>在组件中使用，可以使用<code>this.$store.commit(&quot;xxx&quot;)</code>提交mutation,或者使用<code>mapMutations</code> 辅助函数；</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapMutations &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"title function_\">default</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">        ...mapMutations ([</span><br><span class=\"line\">            <span class=\"string\">&#x27;add&#x27;</span>, <span class=\"comment\">//将 `this.add(num)` 映射为 `this.$store.commit(&#x27;add&#x27;, num)`</span></span><br><span class=\"line\">        ]),</span><br><span class=\"line\">        <span class=\"title function_\">add</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;add&quot;</span>,<span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>四、Action  提交的是mutation,而不是直接变更状态；可以包含任意异步操作</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">state</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">count</span>:<span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">        <span class=\"title function_\">add</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">    \t\tstate.<span class=\"property\">count</span>++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">actions</span>:&#123;</span><br><span class=\"line\">        <span class=\"title function_\">increment</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">setTimeOut</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                context.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;add&quot;</span>)</span><br><span class=\"line\">            &#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>在组件中分发Actions,使用<code>this.$dispath(&quot;xxx&quot;)</code>分发，或者使用<code>mapActions</code>辅助函数将组件的<code>methods</code>映射为<code>store.dispath</code>调用</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapActions &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">        ...<span class=\"title function_\">mapActions</span>([<span class=\"string\">&quot;increment&quot;</span>])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>五、<strong>Module</strong> Vuex允许将store切割成模块 </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> moduleA = &#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: <span class=\"function\">() =&gt;</span> (&#123; ... &#125;),</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">getters</span>: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> moduleB = &#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: <span class=\"function\">() =&gt;</span> (&#123; ... &#125;),</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">modules</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: moduleA,</span><br><span class=\"line\">    <span class=\"attr\">b</span>: moduleB</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">store.<span class=\"property\">state</span>.<span class=\"property\">a</span> <span class=\"comment\">// -&gt; moduleA 的状态</span></span><br><span class=\"line\">store.<span class=\"property\">state</span>.<span class=\"property\">b</span> <span class=\"comment\">// -&gt; moduleB 的状态</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Vuex是什么？\"><a href=\"#Vuex是什么？\" class=\"headerlink\" title=\"Vuex是什么？\"></a>Vuex是什么？</h4><p>Vuex是全局状态管理器，集中式存储管理应用的所有组件状态。<a href=\"https://vuex.vuejs.org/zh/\">官网解释</a></p>\n<h4 id=\"Vuex的核心概念\"><a href=\"#Vuex的核心概念\" class=\"headerlink\" title=\"Vuex的核心概念\"></a>Vuex的核心概念</h4><p>一、 <strong>state</strong>单一状态树，用一个对象就包含了全部的应用层状态；</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;createApp&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;createStore&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">    <span class=\"title function_\">state</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"attr\">count</span>:<span class=\"number\">0</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">getters</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">    \t<span class=\"title function_\">add</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">    \t\tstate.<span class=\"property\">count</span>++</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">    <span class=\"attr\">actions</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">modules</span>:&#123;&#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(&#123;<span class=\"comment\">/*根组件*/</span>&#125;)</span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(store)</span><br></pre></td></tr></table></figure>\n\n<p>可以通过<code>store.state</code>获取状态对象，<code>state.commit(&#39;add&#39;)</code>方法触发变更；</p>\n<p>在Vue组件中,可以通过<code>this.$store</code>来获取状态对象，<code>this.$store.commit()</code>方法触发变更；</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">   <span class=\"title function_\">add</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">state</span>.<span class=\"property\">count</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;add&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>当一个组件需要获取多个状态时，将这些状态都声明为计算属性会重复和冗余，我们可以使用<code>mapSate</code>辅助函数帮我们生成计算属性。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;mapState &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span><br><span class=\"line\">    <span class=\"attr\">computed</span>:&#123;</span><br><span class=\"line\">       \t...<span class=\"title function_\">mapState</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">count</span>:<span class=\"function\"><span class=\"params\">state</span>=&gt;</span>state.<span class=\"property\">count</span>,</span><br><span class=\"line\">            <span class=\"attr\">countAlias</span>:<span class=\"string\">&#x27;count&#x27;</span>,</span><br><span class=\"line\">            <span class=\"title function_\">countState</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">            \t<span class=\"keyword\">return</span> state.<span class=\"property\">count</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        <span class=\"title function_\">value</span>(<span class=\"params\"></span>)&#123;<span class=\"keyword\">return</span> <span class=\"number\">1</span>&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>当映射的计算属行名称与state的子节点名称一致，可以传入一个字符串数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>:&#123;</span><br><span class=\"line\">\t...<span class=\"title function_\">mapState</span>([<span class=\"string\">&quot;count&quot;</span>])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>二、<strong>Getter</strong> 相当于vue中得计算属性，通过getter进一步处理，接受传参。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuex</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuex</span>)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title function_\">store</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">state</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">nickName</span>:<span class=\"string\">&quot;张&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">firstName</span>:<span class=\"string\">&quot;无极&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">todos</span>:[&#123;<span class=\"attr\">id</span>:<span class=\"number\">1</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;1&quot;</span>&#125;,&#123;<span class=\"attr\">id</span>:<span class=\"number\">2</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;2&quot;</span>&#125;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"attr\">getters</span>:&#123;</span><br><span class=\"line\">    \t<span class=\"title function_\">realName</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">             <span class=\"keyword\">return</span> state.<span class=\"property\">nickName</span>+state.<span class=\"property\">firstName</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"attr\">getTodoId</span>:<span class=\"function\">(<span class=\"params\">state</span>)=&gt;</span><span class=\"function\">(<span class=\"params\">id</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> state.<span class=\"property\">todos</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">todo</span>=&gt;</span>todo.<span class=\"property\">id</span> === id)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*在组件中使用 &#123;&#123;realName&#125;&#125; &#123;&#123;getTodoId(2)&#125;&#125; */</span></span><br><span class=\"line\"><span class=\"title function_\">computed</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//computed是不能传参数的</span></span><br><span class=\"line\">    <span class=\"title function_\">realName</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">getters</span>.<span class=\"property\">realName</span> <span class=\"comment\">/* 通过属性访问*/</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">getTodoId</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//不在此处接收传入的值</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\">val</span>)&#123; <span class=\"comment\">//先return一个函数,把属性变成函数属性,参数接收传入的值</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">getters</span>.<span class=\"title function_\">getTodoId</span>(val) <span class=\"comment\">//再return出计算结果</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>使用 <strong>mapGetters</strong> 辅助函数 ，将store中得getter映射到局部计算属性</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;mapGetters&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"attr\">computed</span>:&#123;</span><br><span class=\"line\">        ...<span class=\"title function_\">mapGetters</span>([<span class=\"string\">&quot;realName&quot;</span>])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>三、<strong>Mutation</strong> 更改Vuex的store中的状态的唯一提交方法是提交mutation。必须是同步函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">state</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">count</span>:<span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">        <span class=\"title function_\">add</span>(<span class=\"params\">state,num</span>)&#123;</span><br><span class=\"line\">   \t\t    state.<span class=\"property\">count</span>+=num</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>在组件中使用，可以使用<code>this.$store.commit(&quot;xxx&quot;)</code>提交mutation,或者使用<code>mapMutations</code> 辅助函数；</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapMutations &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"title function_\">default</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">        ...mapMutations ([</span><br><span class=\"line\">            <span class=\"string\">&#x27;add&#x27;</span>, <span class=\"comment\">//将 `this.add(num)` 映射为 `this.$store.commit(&#x27;add&#x27;, num)`</span></span><br><span class=\"line\">        ]),</span><br><span class=\"line\">        <span class=\"title function_\">add</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;add&quot;</span>,<span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>四、Action  提交的是mutation,而不是直接变更状态；可以包含任意异步操作</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">state</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">count</span>:<span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"attr\">mutations</span>:&#123;</span><br><span class=\"line\">        <span class=\"title function_\">add</span>(<span class=\"params\">state</span>)&#123;</span><br><span class=\"line\">    \t\tstate.<span class=\"property\">count</span>++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">actions</span>:&#123;</span><br><span class=\"line\">        <span class=\"title function_\">increment</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">setTimeOut</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                context.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;add&quot;</span>)</span><br><span class=\"line\">            &#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>在组件中分发Actions,使用<code>this.$dispath(&quot;xxx&quot;)</code>分发，或者使用<code>mapActions</code>辅助函数将组件的<code>methods</code>映射为<code>store.dispath</code>调用</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapActions &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vuex&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">        ...<span class=\"title function_\">mapActions</span>([<span class=\"string\">&quot;increment&quot;</span>])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>五、<strong>Module</strong> Vuex允许将store切割成模块 </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> moduleA = &#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: <span class=\"function\">() =&gt;</span> (&#123; ... &#125;),</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">getters</span>: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> moduleB = &#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: <span class=\"function\">() =&gt;</span> (&#123; ... &#125;),</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">modules</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: moduleA,</span><br><span class=\"line\">    <span class=\"attr\">b</span>: moduleB</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">store.<span class=\"property\">state</span>.<span class=\"property\">a</span> <span class=\"comment\">// -&gt; moduleA 的状态</span></span><br><span class=\"line\">store.<span class=\"property\">state</span>.<span class=\"property\">b</span> <span class=\"comment\">// -&gt; moduleB 的状态</span></span><br></pre></td></tr></table></figure>\n\n"},{"title":"Vue面试题","date":"2022-03-18T05:54:55.000Z","_content":"\n- ### Vue 的生命周期\n\n  `beforeCreate(){}`\n\n   实例初始化之前，开始监控data数据，初始化vue内部事件,el、data未初始化； this.$el和this.$data 都获取不到\n\n  `created(){}   ` \n\n   实例创建完成之后调用，完成了data数据的初始化，el没有，可以调用methods中的方法。this.$data能拿到，this.$el获取不到\n\n  `beforeMount(){} ` \n\n   挂载开始之前被调用，相关render函数被调用（虚拟DOM）,完成了el和data的初始化，此时还没有挂载到页面。this.$data能拿到，this.$el获取不到\n\n  `mounted(){}  `\n\n   挂载完成，$el和$data都能获取到\n\n  `beforeUpdata(){}`\n\n   数据发生变化之前被调用，不会触发重渲染过程\n\n  `updata(){}`\n\n   数据更新后\n\n  `beforeDestroy(){}`\n\n   在实例销毁之前调用，实例仍然完全可用。做一些重置操作，清除组件定时器和监听dom事件实例销毁后调用\n\n  `destroyed(){}`\n\n   实例销毁后调用\n\n- ### keep-alive是做什么用的\n\n  keep-alive 是用来对组件进行缓存，从而节省性能。\n  当keep-alive内被切换时，组件的activated、deactivated这个两个声明周期会执行。\n  首次进入会执行`beforeCreate=>created=>beforeMount=>mounted=>activated`生命周期，\n  第二（n）次进入只会执行activated;\n\n  \n\n- ### v-if和v-show的区别\n\n  v-if 是通过控制dom节点的存在与否来控制元素的显示隐藏；\n       使用场景：条件很少改变使用，有更高的切换消耗。\n  v-show 是通过设置dom元素的display样式 block显示  none隐藏\n       使用场景：频繁切换，有更高的初始化渲染消耗。\n\n- ###   computed、methods、watch的区别\n\n  三者默认加载顺序\n  `computed=>watch,不执行methods`\n  触发条件后加载顺序\n  `computed=>methods=>watch`\n\n  **computer属性 vs methods属性**\n  computer计算属性 具有缓存，在dom加载后立即执行，\n  methods 必须要有触发条件才会执行\n\n  **computed计算属性 vs watch监听属性**\n  computed 是依赖数据发生改变才会执行；\n  watch 是监听属性发生改变才会执行。\n\n  \n\n- ### Vue常用修饰符\n\n  ```js\n  /** 事件修饰符*/\n  .stop   //阻止冒泡 event.stopPropagation()\n  .prevent  // 阻止默认行为 event.preventDefault()\n  .capture // 内部元素触发事先在此处理，然后在由内部元素处理\n  .self  //事件是从侦听器绑定的元素本身触发时才触发回调\n  .once //只触发一次\n  .passive //滚动事件立即触发\n  .keyup.enter //键盘修饰符\n  \n  /** v-bind 修饰符*/\n  .prop //被用于绑定DOM属性\n  .sync //更新父组件绑定值的v-on侦听器\n  \n  /** v-model 修饰符*/\n  .number //输入字符串转为数字 \n  .trim  //首位空格过滤\n  .lazy  // 取代input 监听change事件\n  \n  ```\n\n  \n\n  \n\n  \n\n  \n\n  ","source":"_posts/Vue面试题.md","raw":"---\n\ntitle: Vue面试题\ndate: 2022-03-18 13:54:55\ntags: vue\n\n---\n\n- ### Vue 的生命周期\n\n  `beforeCreate(){}`\n\n   实例初始化之前，开始监控data数据，初始化vue内部事件,el、data未初始化； this.$el和this.$data 都获取不到\n\n  `created(){}   ` \n\n   实例创建完成之后调用，完成了data数据的初始化，el没有，可以调用methods中的方法。this.$data能拿到，this.$el获取不到\n\n  `beforeMount(){} ` \n\n   挂载开始之前被调用，相关render函数被调用（虚拟DOM）,完成了el和data的初始化，此时还没有挂载到页面。this.$data能拿到，this.$el获取不到\n\n  `mounted(){}  `\n\n   挂载完成，$el和$data都能获取到\n\n  `beforeUpdata(){}`\n\n   数据发生变化之前被调用，不会触发重渲染过程\n\n  `updata(){}`\n\n   数据更新后\n\n  `beforeDestroy(){}`\n\n   在实例销毁之前调用，实例仍然完全可用。做一些重置操作，清除组件定时器和监听dom事件实例销毁后调用\n\n  `destroyed(){}`\n\n   实例销毁后调用\n\n- ### keep-alive是做什么用的\n\n  keep-alive 是用来对组件进行缓存，从而节省性能。\n  当keep-alive内被切换时，组件的activated、deactivated这个两个声明周期会执行。\n  首次进入会执行`beforeCreate=>created=>beforeMount=>mounted=>activated`生命周期，\n  第二（n）次进入只会执行activated;\n\n  \n\n- ### v-if和v-show的区别\n\n  v-if 是通过控制dom节点的存在与否来控制元素的显示隐藏；\n       使用场景：条件很少改变使用，有更高的切换消耗。\n  v-show 是通过设置dom元素的display样式 block显示  none隐藏\n       使用场景：频繁切换，有更高的初始化渲染消耗。\n\n- ###   computed、methods、watch的区别\n\n  三者默认加载顺序\n  `computed=>watch,不执行methods`\n  触发条件后加载顺序\n  `computed=>methods=>watch`\n\n  **computer属性 vs methods属性**\n  computer计算属性 具有缓存，在dom加载后立即执行，\n  methods 必须要有触发条件才会执行\n\n  **computed计算属性 vs watch监听属性**\n  computed 是依赖数据发生改变才会执行；\n  watch 是监听属性发生改变才会执行。\n\n  \n\n- ### Vue常用修饰符\n\n  ```js\n  /** 事件修饰符*/\n  .stop   //阻止冒泡 event.stopPropagation()\n  .prevent  // 阻止默认行为 event.preventDefault()\n  .capture // 内部元素触发事先在此处理，然后在由内部元素处理\n  .self  //事件是从侦听器绑定的元素本身触发时才触发回调\n  .once //只触发一次\n  .passive //滚动事件立即触发\n  .keyup.enter //键盘修饰符\n  \n  /** v-bind 修饰符*/\n  .prop //被用于绑定DOM属性\n  .sync //更新父组件绑定值的v-on侦听器\n  \n  /** v-model 修饰符*/\n  .number //输入字符串转为数字 \n  .trim  //首位空格过滤\n  .lazy  // 取代input 监听change事件\n  \n  ```\n\n  \n\n  \n\n  \n\n  \n\n  ","slug":"Vue面试题","published":1,"updated":"2022-03-28T03:40:35.438Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibud00052wthd1fzhh89","content":"<ul>\n<li><h3 id=\"Vue-的生命周期\"><a href=\"#Vue-的生命周期\" class=\"headerlink\" title=\"Vue 的生命周期\"></a>Vue 的生命周期</h3><p><code>beforeCreate()&#123;&#125;</code></p>\n<p> 实例初始化之前，开始监控data数据，初始化vue内部事件,el、data未初始化； this.$el和this.$data 都获取不到</p>\n<p><code>created()&#123;&#125;   </code> </p>\n<p> 实例创建完成之后调用，完成了data数据的初始化，el没有，可以调用methods中的方法。this.$data能拿到，this.$el获取不到</p>\n<p><code>beforeMount()&#123;&#125; </code> </p>\n<p> 挂载开始之前被调用，相关render函数被调用（虚拟DOM）,完成了el和data的初始化，此时还没有挂载到页面。this.$data能拿到，this.$el获取不到</p>\n<p><code>mounted()&#123;&#125;  </code></p>\n<p> 挂载完成，$el和$data都能获取到</p>\n<p><code>beforeUpdata()&#123;&#125;</code></p>\n<p> 数据发生变化之前被调用，不会触发重渲染过程</p>\n<p><code>updata()&#123;&#125;</code></p>\n<p> 数据更新后</p>\n<p><code>beforeDestroy()&#123;&#125;</code></p>\n<p> 在实例销毁之前调用，实例仍然完全可用。做一些重置操作，清除组件定时器和监听dom事件实例销毁后调用</p>\n<p><code>destroyed()&#123;&#125;</code></p>\n<p> 实例销毁后调用</p>\n</li>\n<li><h3 id=\"keep-alive是做什么用的\"><a href=\"#keep-alive是做什么用的\" class=\"headerlink\" title=\"keep-alive是做什么用的\"></a>keep-alive是做什么用的</h3><p>keep-alive 是用来对组件进行缓存，从而节省性能。<br>当keep-alive内被切换时，组件的activated、deactivated这个两个声明周期会执行。<br>首次进入会执行<code>beforeCreate=&gt;created=&gt;beforeMount=&gt;mounted=&gt;activated</code>生命周期，<br>第二（n）次进入只会执行activated;</p>\n</li>\n<li><h3 id=\"v-if和v-show的区别\"><a href=\"#v-if和v-show的区别\" class=\"headerlink\" title=\"v-if和v-show的区别\"></a>v-if和v-show的区别</h3><p>v-if 是通过控制dom节点的存在与否来控制元素的显示隐藏；</p>\n<pre><code> 使用场景：条件很少改变使用，有更高的切换消耗。\n</code></pre>\n<p>v-show 是通过设置dom元素的display样式 block显示  none隐藏</p>\n<pre><code> 使用场景：频繁切换，有更高的初始化渲染消耗。\n</code></pre>\n</li>\n<li><h3 id=\"computed、methods、watch的区别\"><a href=\"#computed、methods、watch的区别\" class=\"headerlink\" title=\"computed、methods、watch的区别\"></a>computed、methods、watch的区别</h3><p>三者默认加载顺序<br><code>computed=&gt;watch,不执行methods</code><br>触发条件后加载顺序<br><code>computed=&gt;methods=&gt;watch</code></p>\n<p><strong>computer属性 vs methods属性</strong><br>computer计算属性 具有缓存，在dom加载后立即执行，<br>methods 必须要有触发条件才会执行</p>\n<p><strong>computed计算属性 vs watch监听属性</strong><br>computed 是依赖数据发生改变才会执行；<br>watch 是监听属性发生改变才会执行。</p>\n</li>\n<li><h3 id=\"Vue常用修饰符\"><a href=\"#Vue常用修饰符\" class=\"headerlink\" title=\"Vue常用修饰符\"></a>Vue常用修饰符</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** 事件修饰符*/</span></span><br><span class=\"line\">.<span class=\"property\">stop</span>   <span class=\"comment\">//阻止冒泡 event.stopPropagation()</span></span><br><span class=\"line\">.<span class=\"property\">prevent</span>  <span class=\"comment\">// 阻止默认行为 event.preventDefault()</span></span><br><span class=\"line\">.<span class=\"property\">capture</span> <span class=\"comment\">// 内部元素触发事先在此处理，然后在由内部元素处理</span></span><br><span class=\"line\">.<span class=\"property\">self</span>  <span class=\"comment\">//事件是从侦听器绑定的元素本身触发时才触发回调</span></span><br><span class=\"line\">.<span class=\"property\">once</span> <span class=\"comment\">//只触发一次</span></span><br><span class=\"line\">.<span class=\"property\">passive</span> <span class=\"comment\">//滚动事件立即触发</span></span><br><span class=\"line\">.<span class=\"property\">keyup</span>.<span class=\"property\">enter</span> <span class=\"comment\">//键盘修饰符</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** v-bind 修饰符*/</span></span><br><span class=\"line\">.<span class=\"property\">prop</span> <span class=\"comment\">//被用于绑定DOM属性</span></span><br><span class=\"line\">.<span class=\"property\">sync</span> <span class=\"comment\">//更新父组件绑定值的v-on侦听器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** v-model 修饰符*/</span></span><br><span class=\"line\">.<span class=\"property\">number</span> <span class=\"comment\">//输入字符串转为数字 </span></span><br><span class=\"line\">.<span class=\"property\">trim</span>  <span class=\"comment\">//首位空格过滤</span></span><br><span class=\"line\">.<span class=\"property\">lazy</span>  <span class=\"comment\">// 取代input 监听change事件</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><h3 id=\"Vue-的生命周期\"><a href=\"#Vue-的生命周期\" class=\"headerlink\" title=\"Vue 的生命周期\"></a>Vue 的生命周期</h3><p><code>beforeCreate()&#123;&#125;</code></p>\n<p> 实例初始化之前，开始监控data数据，初始化vue内部事件,el、data未初始化； this.$el和this.$data 都获取不到</p>\n<p><code>created()&#123;&#125;   </code> </p>\n<p> 实例创建完成之后调用，完成了data数据的初始化，el没有，可以调用methods中的方法。this.$data能拿到，this.$el获取不到</p>\n<p><code>beforeMount()&#123;&#125; </code> </p>\n<p> 挂载开始之前被调用，相关render函数被调用（虚拟DOM）,完成了el和data的初始化，此时还没有挂载到页面。this.$data能拿到，this.$el获取不到</p>\n<p><code>mounted()&#123;&#125;  </code></p>\n<p> 挂载完成，$el和$data都能获取到</p>\n<p><code>beforeUpdata()&#123;&#125;</code></p>\n<p> 数据发生变化之前被调用，不会触发重渲染过程</p>\n<p><code>updata()&#123;&#125;</code></p>\n<p> 数据更新后</p>\n<p><code>beforeDestroy()&#123;&#125;</code></p>\n<p> 在实例销毁之前调用，实例仍然完全可用。做一些重置操作，清除组件定时器和监听dom事件实例销毁后调用</p>\n<p><code>destroyed()&#123;&#125;</code></p>\n<p> 实例销毁后调用</p>\n</li>\n<li><h3 id=\"keep-alive是做什么用的\"><a href=\"#keep-alive是做什么用的\" class=\"headerlink\" title=\"keep-alive是做什么用的\"></a>keep-alive是做什么用的</h3><p>keep-alive 是用来对组件进行缓存，从而节省性能。<br>当keep-alive内被切换时，组件的activated、deactivated这个两个声明周期会执行。<br>首次进入会执行<code>beforeCreate=&gt;created=&gt;beforeMount=&gt;mounted=&gt;activated</code>生命周期，<br>第二（n）次进入只会执行activated;</p>\n</li>\n<li><h3 id=\"v-if和v-show的区别\"><a href=\"#v-if和v-show的区别\" class=\"headerlink\" title=\"v-if和v-show的区别\"></a>v-if和v-show的区别</h3><p>v-if 是通过控制dom节点的存在与否来控制元素的显示隐藏；</p>\n<pre><code> 使用场景：条件很少改变使用，有更高的切换消耗。\n</code></pre>\n<p>v-show 是通过设置dom元素的display样式 block显示  none隐藏</p>\n<pre><code> 使用场景：频繁切换，有更高的初始化渲染消耗。\n</code></pre>\n</li>\n<li><h3 id=\"computed、methods、watch的区别\"><a href=\"#computed、methods、watch的区别\" class=\"headerlink\" title=\"computed、methods、watch的区别\"></a>computed、methods、watch的区别</h3><p>三者默认加载顺序<br><code>computed=&gt;watch,不执行methods</code><br>触发条件后加载顺序<br><code>computed=&gt;methods=&gt;watch</code></p>\n<p><strong>computer属性 vs methods属性</strong><br>computer计算属性 具有缓存，在dom加载后立即执行，<br>methods 必须要有触发条件才会执行</p>\n<p><strong>computed计算属性 vs watch监听属性</strong><br>computed 是依赖数据发生改变才会执行；<br>watch 是监听属性发生改变才会执行。</p>\n</li>\n<li><h3 id=\"Vue常用修饰符\"><a href=\"#Vue常用修饰符\" class=\"headerlink\" title=\"Vue常用修饰符\"></a>Vue常用修饰符</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** 事件修饰符*/</span></span><br><span class=\"line\">.<span class=\"property\">stop</span>   <span class=\"comment\">//阻止冒泡 event.stopPropagation()</span></span><br><span class=\"line\">.<span class=\"property\">prevent</span>  <span class=\"comment\">// 阻止默认行为 event.preventDefault()</span></span><br><span class=\"line\">.<span class=\"property\">capture</span> <span class=\"comment\">// 内部元素触发事先在此处理，然后在由内部元素处理</span></span><br><span class=\"line\">.<span class=\"property\">self</span>  <span class=\"comment\">//事件是从侦听器绑定的元素本身触发时才触发回调</span></span><br><span class=\"line\">.<span class=\"property\">once</span> <span class=\"comment\">//只触发一次</span></span><br><span class=\"line\">.<span class=\"property\">passive</span> <span class=\"comment\">//滚动事件立即触发</span></span><br><span class=\"line\">.<span class=\"property\">keyup</span>.<span class=\"property\">enter</span> <span class=\"comment\">//键盘修饰符</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** v-bind 修饰符*/</span></span><br><span class=\"line\">.<span class=\"property\">prop</span> <span class=\"comment\">//被用于绑定DOM属性</span></span><br><span class=\"line\">.<span class=\"property\">sync</span> <span class=\"comment\">//更新父组件绑定值的v-on侦听器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** v-model 修饰符*/</span></span><br><span class=\"line\">.<span class=\"property\">number</span> <span class=\"comment\">//输入字符串转为数字 </span></span><br><span class=\"line\">.<span class=\"property\">trim</span>  <span class=\"comment\">//首位空格过滤</span></span><br><span class=\"line\">.<span class=\"property\">lazy</span>  <span class=\"comment\">// 取代input 监听change事件</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2022-03-16T08:58:22.853Z","updated":"2022-03-29T01:57:28.125Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibue00062wth54b708rk","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"call、apply、bind实现方式","date":"2022-03-29T02:27:11.000Z","_content":"\n一、相同点\n\n1. 都能够改变目标函数执行时内部`this`的指向\n2. 方法的第一个参数用于指定函数执行时内部的`this`值\n3. 支持向目标函数传参\n\n二、区别\n\n1. `apply()`方法可以接收两个参数，而`call()`和`apply()`方法可以接收多个参数；\n2. `apply()`方法向目标函数传递参数时只需将参数数组或`arguments`对象作为方法的第二个参数即可；`call()`和`bind()`方法则需要将传参逐个列举在方法的一个参数后面；\n3. 调用`call()`和`apply()`会立即执行目标函数，而`bind()`方法则不会，他将返回一个新函数->目标函数的拷贝；\n4. 只有`bind()`实现了函数柯里化，因此分两次向目标函数传递；\n\n`myCall`实现\n\n```js\nFunction.prototype.myCall=function(context){\n    if(typeof this !== \"function\") throw new TypeError(\"Error\");\n    context = context || window;\n    context.fn = this;\n    let args = [...arguments].slice(1)\n    let result = context.fn(...args);\n    delete context.fn\n    return result\n}\nlet obj={\n    name:\"齐震元\",\n    say:function(age){\n        console.log(\"Name:\"+this.name+\"Age:\"+age);\n    }\n}\nlet obj1 = {\n    name:'无敌小霸王'\n}\nobj.say(28)\nobj.say.myCall(obj1,26,27)\n```\n\n`myApply`实现\n\n```js\nFunction.prototype.myApply=function(context){\n    if(typeof this !== \"function\") throw new TypeError(\"Error\");\n    context = context || window;\n    context.fn = this;\n    let result = arguments[1] ? context.fn(...arguments[1]):context.fn()\n    delete context.fn\n    return result\n}\n\nobj.say.myApply(obj1,[26])\n```\n\n`myBind()`实现\n\n```js\nFunction.prototype.myBind=function(context){\n    if(typeof this !== \"function\") throw new TypeError(\"Error\");\n    const _this = this;\n    const args = [...arguments].slice(1)\n    return function(){\n        return _this.apply(context,args.concat([...arguments]))\n    }\n}\n```\n\n","source":"_posts/实现方式.md","raw":"---\ntitle: call、apply、bind实现方式\ndate: 2022-03-29 10:27:11\ntags: js\n---\n\n一、相同点\n\n1. 都能够改变目标函数执行时内部`this`的指向\n2. 方法的第一个参数用于指定函数执行时内部的`this`值\n3. 支持向目标函数传参\n\n二、区别\n\n1. `apply()`方法可以接收两个参数，而`call()`和`apply()`方法可以接收多个参数；\n2. `apply()`方法向目标函数传递参数时只需将参数数组或`arguments`对象作为方法的第二个参数即可；`call()`和`bind()`方法则需要将传参逐个列举在方法的一个参数后面；\n3. 调用`call()`和`apply()`会立即执行目标函数，而`bind()`方法则不会，他将返回一个新函数->目标函数的拷贝；\n4. 只有`bind()`实现了函数柯里化，因此分两次向目标函数传递；\n\n`myCall`实现\n\n```js\nFunction.prototype.myCall=function(context){\n    if(typeof this !== \"function\") throw new TypeError(\"Error\");\n    context = context || window;\n    context.fn = this;\n    let args = [...arguments].slice(1)\n    let result = context.fn(...args);\n    delete context.fn\n    return result\n}\nlet obj={\n    name:\"齐震元\",\n    say:function(age){\n        console.log(\"Name:\"+this.name+\"Age:\"+age);\n    }\n}\nlet obj1 = {\n    name:'无敌小霸王'\n}\nobj.say(28)\nobj.say.myCall(obj1,26,27)\n```\n\n`myApply`实现\n\n```js\nFunction.prototype.myApply=function(context){\n    if(typeof this !== \"function\") throw new TypeError(\"Error\");\n    context = context || window;\n    context.fn = this;\n    let result = arguments[1] ? context.fn(...arguments[1]):context.fn()\n    delete context.fn\n    return result\n}\n\nobj.say.myApply(obj1,[26])\n```\n\n`myBind()`实现\n\n```js\nFunction.prototype.myBind=function(context){\n    if(typeof this !== \"function\") throw new TypeError(\"Error\");\n    const _this = this;\n    const args = [...arguments].slice(1)\n    return function(){\n        return _this.apply(context,args.concat([...arguments]))\n    }\n}\n```\n\n","slug":"实现方式","published":1,"updated":"2022-03-29T07:00:12.815Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibuh00092wthhv0bbpxp","content":"<p>一、相同点</p>\n<ol>\n<li>都能够改变目标函数执行时内部<code>this</code>的指向</li>\n<li>方法的第一个参数用于指定函数执行时内部的<code>this</code>值</li>\n<li>支持向目标函数传参</li>\n</ol>\n<p>二、区别</p>\n<ol>\n<li><code>apply()</code>方法可以接收两个参数，而<code>call()</code>和<code>apply()</code>方法可以接收多个参数；</li>\n<li><code>apply()</code>方法向目标函数传递参数时只需将参数数组或<code>arguments</code>对象作为方法的第二个参数即可；<code>call()</code>和<code>bind()</code>方法则需要将传参逐个列举在方法的一个参数后面；</li>\n<li>调用<code>call()</code>和<code>apply()</code>会立即执行目标函数，而<code>bind()</code>方法则不会，他将返回一个新函数-&gt;目标函数的拷贝；</li>\n<li>只有<code>bind()</code>实现了函数柯里化，因此分两次向目标函数传递；</li>\n</ol>\n<p><code>myCall</code>实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myCall</span>=<span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Error&quot;</span>);</span><br><span class=\"line\">    context = context || <span class=\"variable language_\">window</span>;</span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> args = [...<span class=\"variable language_\">arguments</span>].<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result = context.<span class=\"title function_\">fn</span>(...args);</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj=&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>:<span class=\"string\">&quot;齐震元&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">say</span>:<span class=\"keyword\">function</span>(<span class=\"params\">age</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Name:&quot;</span>+<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>+<span class=\"string\">&quot;Age:&quot;</span>+age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>:<span class=\"string\">&#x27;无敌小霸王&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">say</span>(<span class=\"number\">28</span>)</span><br><span class=\"line\">obj.<span class=\"property\">say</span>.<span class=\"title function_\">myCall</span>(obj1,<span class=\"number\">26</span>,<span class=\"number\">27</span>)</span><br></pre></td></tr></table></figure>\n\n<p><code>myApply</code>实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myApply</span>=<span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Error&quot;</span>);</span><br><span class=\"line\">    context = context || <span class=\"variable language_\">window</span>;</span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result = <span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>] ? context.<span class=\"title function_\">fn</span>(...<span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>]):context.<span class=\"title function_\">fn</span>()</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.<span class=\"property\">say</span>.<span class=\"title function_\">myApply</span>(obj1,[<span class=\"number\">26</span>])</span><br></pre></td></tr></table></figure>\n\n<p><code>myBind()</code>实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myBind</span>=<span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Error&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> _this = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> args = [...<span class=\"variable language_\">arguments</span>].<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _this.<span class=\"title function_\">apply</span>(context,args.<span class=\"title function_\">concat</span>([...<span class=\"variable language_\">arguments</span>]))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<p>一、相同点</p>\n<ol>\n<li>都能够改变目标函数执行时内部<code>this</code>的指向</li>\n<li>方法的第一个参数用于指定函数执行时内部的<code>this</code>值</li>\n<li>支持向目标函数传参</li>\n</ol>\n<p>二、区别</p>\n<ol>\n<li><code>apply()</code>方法可以接收两个参数，而<code>call()</code>和<code>apply()</code>方法可以接收多个参数；</li>\n<li><code>apply()</code>方法向目标函数传递参数时只需将参数数组或<code>arguments</code>对象作为方法的第二个参数即可；<code>call()</code>和<code>bind()</code>方法则需要将传参逐个列举在方法的一个参数后面；</li>\n<li>调用<code>call()</code>和<code>apply()</code>会立即执行目标函数，而<code>bind()</code>方法则不会，他将返回一个新函数-&gt;目标函数的拷贝；</li>\n<li>只有<code>bind()</code>实现了函数柯里化，因此分两次向目标函数传递；</li>\n</ol>\n<p><code>myCall</code>实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myCall</span>=<span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Error&quot;</span>);</span><br><span class=\"line\">    context = context || <span class=\"variable language_\">window</span>;</span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> args = [...<span class=\"variable language_\">arguments</span>].<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result = context.<span class=\"title function_\">fn</span>(...args);</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj=&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>:<span class=\"string\">&quot;齐震元&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">say</span>:<span class=\"keyword\">function</span>(<span class=\"params\">age</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Name:&quot;</span>+<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>+<span class=\"string\">&quot;Age:&quot;</span>+age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>:<span class=\"string\">&#x27;无敌小霸王&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">say</span>(<span class=\"number\">28</span>)</span><br><span class=\"line\">obj.<span class=\"property\">say</span>.<span class=\"title function_\">myCall</span>(obj1,<span class=\"number\">26</span>,<span class=\"number\">27</span>)</span><br></pre></td></tr></table></figure>\n\n<p><code>myApply</code>实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myApply</span>=<span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Error&quot;</span>);</span><br><span class=\"line\">    context = context || <span class=\"variable language_\">window</span>;</span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result = <span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>] ? context.<span class=\"title function_\">fn</span>(...<span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>]):context.<span class=\"title function_\">fn</span>()</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.<span class=\"property\">say</span>.<span class=\"title function_\">myApply</span>(obj1,[<span class=\"number\">26</span>])</span><br></pre></td></tr></table></figure>\n\n<p><code>myBind()</code>实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myBind</span>=<span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Error&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> _this = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> args = [...<span class=\"variable language_\">arguments</span>].<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _this.<span class=\"title function_\">apply</span>(context,args.<span class=\"title function_\">concat</span>([...<span class=\"variable language_\">arguments</span>]))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n"},{"title":"圣杯和双飞翼布局","date":"2022-03-18T07:17:57.000Z","_content":"\n圣杯和双飞翼布局的模型，即三列结构，左右两边定宽，中间自适应，根据屏幕大小响应。\n\n![](/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg)\n\n### 如何实现\n\n先给出html结构，注意中间自适应元素放在最前面\n\n```html\n<div id=\"container\">\n    <div id=\"center\" class=\"column\"></div>\n    <div id=\"left\" class=\"column\"></div>\n    <div id=\"right\" class=\"column\"></div>\n</div>\n```\n\ncss样式\n\n```css\n    #container{\n        padding:0 200px;\n    }\n    .column{\n        height:300px;\n        float:left;\n        position: relative;\n    }\n    #left{\n        width:200px;\n        background: aqua;\n        margin-left: -100%;\n        left: -200px;\n    }\n    #right{\n        width:200px;\n        background: rebeccapurple;\n        margin-left:-200px;\n        right:-200px;\n    }\n    #center{\n        width:100%;\n        background: chocolate;\n    }\n```\n\n\n\n使用flex实现，html结构按照左、自适应、右布局。将容器设置为`display: flex;` 两侧设置固定宽度,并不允许弹性缩放`flex: 0; flex-basis: 200px;`中间允许弹性缩放，不设置宽度`flex:1;`\n\n```css\n    #container{\n        display: flex;\n\n    }\n    .column{\n        height:300px;\n    }\n    #left{\n        flex: 0;\n        flex-basis: 200px;\n        background: aqua;\n\n    }\n    #right{\n        flex: 0;\n        flex-basis: 200px;\n        background: rebeccapurple;\n\n    }\n    #center{\n       flex:1;\n       background: chocolate;\n    }\n```\n\n\n\n","source":"_posts/圣杯和双飞翼布局.md","raw":"---\ntitle: 圣杯和双飞翼布局\ndate: 2022-03-18 15:17:57\ntags: css\n---\n\n圣杯和双飞翼布局的模型，即三列结构，左右两边定宽，中间自适应，根据屏幕大小响应。\n\n![](/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg)\n\n### 如何实现\n\n先给出html结构，注意中间自适应元素放在最前面\n\n```html\n<div id=\"container\">\n    <div id=\"center\" class=\"column\"></div>\n    <div id=\"left\" class=\"column\"></div>\n    <div id=\"right\" class=\"column\"></div>\n</div>\n```\n\ncss样式\n\n```css\n    #container{\n        padding:0 200px;\n    }\n    .column{\n        height:300px;\n        float:left;\n        position: relative;\n    }\n    #left{\n        width:200px;\n        background: aqua;\n        margin-left: -100%;\n        left: -200px;\n    }\n    #right{\n        width:200px;\n        background: rebeccapurple;\n        margin-left:-200px;\n        right:-200px;\n    }\n    #center{\n        width:100%;\n        background: chocolate;\n    }\n```\n\n\n\n使用flex实现，html结构按照左、自适应、右布局。将容器设置为`display: flex;` 两侧设置固定宽度,并不允许弹性缩放`flex: 0; flex-basis: 200px;`中间允许弹性缩放，不设置宽度`flex:1;`\n\n```css\n    #container{\n        display: flex;\n\n    }\n    .column{\n        height:300px;\n    }\n    #left{\n        flex: 0;\n        flex-basis: 200px;\n        background: aqua;\n\n    }\n    #right{\n        flex: 0;\n        flex-basis: 200px;\n        background: rebeccapurple;\n\n    }\n    #center{\n       flex:1;\n       background: chocolate;\n    }\n```\n\n\n\n","slug":"圣杯和双飞翼布局","published":1,"updated":"2022-03-19T08:17:49.648Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibui000a2wth77grfdrt","content":"<p>圣杯和双飞翼布局的模型，即三列结构，左右两边定宽，中间自适应，根据屏幕大小响应。</p>\n<p><img src=\"/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg\"></p>\n<h3 id=\"如何实现\"><a href=\"#如何实现\" class=\"headerlink\" title=\"如何实现\"></a>如何实现</h3><p>先给出html结构，注意中间自适应元素放在最前面</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;center&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;column&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;left&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;column&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;right&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;column&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>css样式</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#container</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>:<span class=\"number\">0</span> <span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.column</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>:<span class=\"number\">300px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span><span class=\"selector-pseudo\">:left</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#left</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: aqua;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: -<span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#right</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: rebeccapurple;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>:-<span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>:-<span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#center</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: chocolate;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>使用flex实现，html结构按照左、自适应、右布局。将容器设置为<code>display: flex;</code> 两侧设置固定宽度,并不允许弹性缩放<code>flex: 0; flex-basis: 200px;</code>中间允许弹性缩放，不设置宽度<code>flex:1;</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#container</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.column</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>:<span class=\"number\">300px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#left</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">flex</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">flex-basis</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: aqua;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#right</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">flex</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">flex-basis</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: rebeccapurple;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#center</span>&#123;</span><br><span class=\"line\">   <span class=\"attribute\">flex</span>:<span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"attribute\">background</span>: chocolate;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n","site":{"data":{}},"excerpt":"","more":"<p>圣杯和双飞翼布局的模型，即三列结构，左右两边定宽，中间自适应，根据屏幕大小响应。</p>\n<p><img src=\"/images/v2-b01716cfa29a784d8a132ec99d7ef56b_b.jpg\"></p>\n<h3 id=\"如何实现\"><a href=\"#如何实现\" class=\"headerlink\" title=\"如何实现\"></a>如何实现</h3><p>先给出html结构，注意中间自适应元素放在最前面</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;center&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;column&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;left&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;column&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;right&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;column&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>css样式</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#container</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>:<span class=\"number\">0</span> <span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.column</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>:<span class=\"number\">300px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span><span class=\"selector-pseudo\">:left</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#left</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: aqua;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: -<span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#right</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: rebeccapurple;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>:-<span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>:-<span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#center</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: chocolate;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>使用flex实现，html结构按照左、自适应、右布局。将容器设置为<code>display: flex;</code> 两侧设置固定宽度,并不允许弹性缩放<code>flex: 0; flex-basis: 200px;</code>中间允许弹性缩放，不设置宽度<code>flex:1;</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#container</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.column</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>:<span class=\"number\">300px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#left</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">flex</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">flex-basis</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: aqua;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#right</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">flex</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">flex-basis</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: rebeccapurple;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#center</span>&#123;</span><br><span class=\"line\">   <span class=\"attribute\">flex</span>:<span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"attribute\">background</span>: chocolate;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n"},{"title":"浏览器相关","date":"2022-03-28T03:00:32.000Z","_content":"\n[输入 URL 到页面展示]()\n\n[跨域]()\n\n[https协议]()\n\n[TCP 三次握手、四次挥手]()\n\n[HTTP请求/响应过程]()\n\n[TCP 和 UDP 区别]()\n\n[HTTP 常见状态码]()\n\n[OSI网络七层模型]()\n\n[传输层有什么协议]()\n\n[HTTP2.0 、3.0]()\n\n[浏览器渲染之重绘、重排]()","source":"_posts/浏览器相关.md","raw":"---\ntitle: 浏览器相关\ndate: 2022-03-28 11:00:32\ntags: [js,浏览器]\n---\n\n[输入 URL 到页面展示]()\n\n[跨域]()\n\n[https协议]()\n\n[TCP 三次握手、四次挥手]()\n\n[HTTP请求/响应过程]()\n\n[TCP 和 UDP 区别]()\n\n[HTTP 常见状态码]()\n\n[OSI网络七层模型]()\n\n[传输层有什么协议]()\n\n[HTTP2.0 、3.0]()\n\n[浏览器渲染之重绘、重排]()","slug":"浏览器相关","published":1,"updated":"2022-03-28T03:07:41.418Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibuj000d2wthcj50gzoe","content":"<p><a href=\"\">输入 URL 到页面展示</a></p>\n<p><a href=\"\">跨域</a></p>\n<p><a href=\"\">https协议</a></p>\n<p><a href=\"\">TCP 三次握手、四次挥手</a></p>\n<p><a href=\"\">HTTP请求/响应过程</a></p>\n<p><a href=\"\">TCP 和 UDP 区别</a></p>\n<p><a href=\"\">HTTP 常见状态码</a></p>\n<p><a href=\"\">OSI网络七层模型</a></p>\n<p><a href=\"\">传输层有什么协议</a></p>\n<p><a href=\"\">HTTP2.0 、3.0</a></p>\n<p><a href=\"\">浏览器渲染之重绘、重排</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"\">输入 URL 到页面展示</a></p>\n<p><a href=\"\">跨域</a></p>\n<p><a href=\"\">https协议</a></p>\n<p><a href=\"\">TCP 三次握手、四次挥手</a></p>\n<p><a href=\"\">HTTP请求/响应过程</a></p>\n<p><a href=\"\">TCP 和 UDP 区别</a></p>\n<p><a href=\"\">HTTP 常见状态码</a></p>\n<p><a href=\"\">OSI网络七层模型</a></p>\n<p><a href=\"\">传输层有什么协议</a></p>\n<p><a href=\"\">HTTP2.0 、3.0</a></p>\n<p><a href=\"\">浏览器渲染之重绘、重排</a></p>\n"},{"title":"深、浅拷贝","date":"2022-03-22T07:58:11.000Z","_content":"\n一、js的数据类型\n\n基本类型：Number 、String、Boolean、Null、Undefind、Symbol \n\n引用数据类型：Array、Function、Object\n\n二、深拷贝和浅拷贝的区别\n\n浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块堆内存;\n\n深拷贝会创造一个一模一样的值存储，修改新对象不会更改到原对象\n\n三、深拷贝实现方式\n\n1、JSON.parse和JSON.stringify实现\n\n```js \nvar a={\n    name:\"qizhenyuan\",\n    age:28,\n    say:function(){\n    \tconsole.log(\"姓名：\"+this.name)\n    },\n    love:undefined,\n    sym:Symbol('qizhenyuan'),\n    reg:/(0-9)/,\n \tnan:NaN,\n    inf:Infinity,\n    data:new Date(),\n};\nvar b=JSON.parse(JSON.stringify(a));\nb.age = 18;\nconsole.log(a,b)\nconsole.log(a.age) // => 28\nconsole.log(b.age) // => 18\na.say() // 控制台输出：姓名：qizhenyuan\nb.say() // 控制台输出：TypeError: b.say is not a function\n```\n\n![](/images/1648110790(1).jpg)\n\n<u>**tips:** </u> \n\n1. `undefined`、`Symbol`、函数会被忽略\n2. Date会被`toJSON()`转为字符串\n3. `NaN`、`Infinity`被认为是`null`\n4. 正则会被转为空对象\n\n二、递归赋值（手写递归）\n\n1.并没有实现对正则、date的拷贝\n\n```js\nfunction deepCopy(obj){\n    var objClone = Array.isArray(obj)?[]:{};\n    if(obj && typeof obj == \"object\"){\n        for(key in obj){\n            if(typeof obj[key] == \"object\"){\n                objClone[key] = deepCopy(obj[key])\n            }else{\n                objClone[key] = obj[key]\n            }\n        }\n    }\n    return objClone\n}\nfunction deepClone(target) {\n    function clone(target, map) {\n        if (target !== null && typeof target === 'object') {\n            let result = Object.prototype.toString.call(target) === \"[Object Array]\" ? [] : {};\n            if (map[target]) {\n                return map[target]\n            }\n            map[target] = result;\n            for (let key in target) {\n                if (target.hasOwnProperty(key)) {\n                    result[key] = deepClone(target[key])\n                }\n            }\n            return result\n        } else {\n            return target\n        }\n    }\n    let map = {};\n    const result = clone(target, map);\n    map = null;\n    return result\n}\nlet b = deepCopy(a) //会有死循环 a.f=a;\nlet c = deepClone(a) \n```\n\n`deepClone`利用额外的变量 `map` 来存储当前对象和拷贝对象的对应关系，当需要拷贝当前对象时，先去 map 中找，有没有拷贝过这个对象，如果有的话直接返回，如果没有的话继续拷贝，这样就巧妙化解的循环引用的问题。最后需要把变量 map 置为 null ，释放内存，防止内存泄露。\n\n\n\n2. 根据类型拷贝\n\n```js\nfunction deepClone(target) {\n    // 获取数据类型\n    function getType(target) {\n        return Object.prototype.toString.call(target)\n    }\n    //判断数据是不是引用类型\n    function isObject(target) {\n        return target !== null && (typeof target === 'object' || typeof target === 'function');\n    }\n    //处理不需要遍历的应引用类型数据\n    function handleOherData(target) {\n        const type = getType(target);\n        switch (type) {\n            case \"[object Date]\":\n                return new Date(target)\n            case \"[object RegExp]\":\n                return cloneReg(target)\n            case \"[object Function]\":\n                return cloneFunction(target)\n\n        }\n    }\n    //拷贝Symbol类型数据\n    function cloneSymbol(targe) {\n        const a = String(targe); //把Symbol字符串化\n        const b = a.substring(7, a.length - 1); //取出Symbol()的参数\n        return Symbol(b); //用原先的Symbol()的参数创建一个新的Symbol\n    }\n    //拷贝正则类型数据\n    function cloneReg(target) {\n        const reFlags = /\\w*$/;\n        const result = new target.constructor(target.source, reFlags.exec(target));\n        result.lastIndex = target.lastIndex;\n        return result;\n    }\n    //拷贝函数\n    function cloneFunction(targe) {\n        //匹配函数体的正则\n        const bodyReg = /(?<={)(.|\\n)+(?=})/m;\n        //匹配函数参数的正则\n        const paramReg = /(?<=\\().+(?=\\)\\s+{)/;\n        const targeString = targe.toString();\n        //利用prototype来区分下箭头函数和普通函数，箭头函数是没有prototype的\n        if (targe.prototype) { //普通函数\n            const param = paramReg.exec(targeString);\n            const body = bodyReg.exec(targeString);\n            if (body) {\n                if (param) {\n                    const paramArr = param[0].split(',');\n                    //使用 new Function 重新构造一个新的函数\n                    return new Function(...paramArr, body[0]);\n                } else {\n                    return new Function(body[0]);\n                }\n            } else {\n                return null;\n            }\n        } else { //箭头函数\n            //eval和函数字符串来重新生成一个箭头函数\n            return eval(targeString);\n        }\n    }\n    /**\n     * 遍历数据处理函数\n     * @array 要处理的数据\n     * @callback 回调函数，接收两个参数 value 每一项的值 index 每一项的下标或者key。\n     */\n    function handleWhile(array, callback) {\n        let index = -1;\n        const length = array.length;\n        while (++index < length) {\n            callback(array[index], index);\n        }\n    }\n    function clone(target, map) {\n        if (isObject(target)) {\n            let result = null;\n            if (getType(target) === \"[object Array]\") {\n                result = []\n            } else if (getType(target) === \"[object Object]\") {\n                result = {}\n            } else if (getType(target) === \"[object Map]\") {\n                result = new Map();\n            } else if (getType(target) === \"[object Set]\") {\n                result = new Set();\n            }\n\n            //解决循环引用\n            if (map[target]) {\n                return map[target];\n            }\n            map[target] = result;\n\n            if (getType(target) === \"[object Map]\") {\n                target.forEach((value, key) => {\n                    result.set(key, clone(value, map));\n                });\n                return result;\n            } else if (getType(target) === \"[object Set]\") {\n                target.forEach(value => {\n                    result.add(clone(value, map));\n                });\n                return result;\n            } else if (getType(target) === \"[object Object]\" || getType(target) === \"[object Array]\") {\n                const keys = getType(target) === \"[object Array]\" ? undefined : Object.keys(target);\n\n                function callback(value, key) {\n                    if (keys) {\n                        // 如果keys存在则说明value是一个对象的key，不存在则说明key就是数组的下标。\n                        key = value\n                    }\n                    result[key] = clone(target[key], map)\n                }\n                handleWhile(keys || target, callback)\n            } else {\n                result = handleOherData(target)\n            }\n            return result;\n        } else {\n            if (getType(target) === \"[object Symbol]\") {\n                return cloneSymbol(target)\n            } else {\n                return target;\n            }\n        }\n    }\n    let map = {}\n    const result = clone(target, map);\n    map = null;\n    return result\n}\n\n```\n\n","source":"_posts/深、浅拷贝.md","raw":"---\ntitle: 深、浅拷贝\ndate: 2022-03-22 15:58:11\ntags: js\n---\n\n一、js的数据类型\n\n基本类型：Number 、String、Boolean、Null、Undefind、Symbol \n\n引用数据类型：Array、Function、Object\n\n二、深拷贝和浅拷贝的区别\n\n浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块堆内存;\n\n深拷贝会创造一个一模一样的值存储，修改新对象不会更改到原对象\n\n三、深拷贝实现方式\n\n1、JSON.parse和JSON.stringify实现\n\n```js \nvar a={\n    name:\"qizhenyuan\",\n    age:28,\n    say:function(){\n    \tconsole.log(\"姓名：\"+this.name)\n    },\n    love:undefined,\n    sym:Symbol('qizhenyuan'),\n    reg:/(0-9)/,\n \tnan:NaN,\n    inf:Infinity,\n    data:new Date(),\n};\nvar b=JSON.parse(JSON.stringify(a));\nb.age = 18;\nconsole.log(a,b)\nconsole.log(a.age) // => 28\nconsole.log(b.age) // => 18\na.say() // 控制台输出：姓名：qizhenyuan\nb.say() // 控制台输出：TypeError: b.say is not a function\n```\n\n![](/images/1648110790(1).jpg)\n\n<u>**tips:** </u> \n\n1. `undefined`、`Symbol`、函数会被忽略\n2. Date会被`toJSON()`转为字符串\n3. `NaN`、`Infinity`被认为是`null`\n4. 正则会被转为空对象\n\n二、递归赋值（手写递归）\n\n1.并没有实现对正则、date的拷贝\n\n```js\nfunction deepCopy(obj){\n    var objClone = Array.isArray(obj)?[]:{};\n    if(obj && typeof obj == \"object\"){\n        for(key in obj){\n            if(typeof obj[key] == \"object\"){\n                objClone[key] = deepCopy(obj[key])\n            }else{\n                objClone[key] = obj[key]\n            }\n        }\n    }\n    return objClone\n}\nfunction deepClone(target) {\n    function clone(target, map) {\n        if (target !== null && typeof target === 'object') {\n            let result = Object.prototype.toString.call(target) === \"[Object Array]\" ? [] : {};\n            if (map[target]) {\n                return map[target]\n            }\n            map[target] = result;\n            for (let key in target) {\n                if (target.hasOwnProperty(key)) {\n                    result[key] = deepClone(target[key])\n                }\n            }\n            return result\n        } else {\n            return target\n        }\n    }\n    let map = {};\n    const result = clone(target, map);\n    map = null;\n    return result\n}\nlet b = deepCopy(a) //会有死循环 a.f=a;\nlet c = deepClone(a) \n```\n\n`deepClone`利用额外的变量 `map` 来存储当前对象和拷贝对象的对应关系，当需要拷贝当前对象时，先去 map 中找，有没有拷贝过这个对象，如果有的话直接返回，如果没有的话继续拷贝，这样就巧妙化解的循环引用的问题。最后需要把变量 map 置为 null ，释放内存，防止内存泄露。\n\n\n\n2. 根据类型拷贝\n\n```js\nfunction deepClone(target) {\n    // 获取数据类型\n    function getType(target) {\n        return Object.prototype.toString.call(target)\n    }\n    //判断数据是不是引用类型\n    function isObject(target) {\n        return target !== null && (typeof target === 'object' || typeof target === 'function');\n    }\n    //处理不需要遍历的应引用类型数据\n    function handleOherData(target) {\n        const type = getType(target);\n        switch (type) {\n            case \"[object Date]\":\n                return new Date(target)\n            case \"[object RegExp]\":\n                return cloneReg(target)\n            case \"[object Function]\":\n                return cloneFunction(target)\n\n        }\n    }\n    //拷贝Symbol类型数据\n    function cloneSymbol(targe) {\n        const a = String(targe); //把Symbol字符串化\n        const b = a.substring(7, a.length - 1); //取出Symbol()的参数\n        return Symbol(b); //用原先的Symbol()的参数创建一个新的Symbol\n    }\n    //拷贝正则类型数据\n    function cloneReg(target) {\n        const reFlags = /\\w*$/;\n        const result = new target.constructor(target.source, reFlags.exec(target));\n        result.lastIndex = target.lastIndex;\n        return result;\n    }\n    //拷贝函数\n    function cloneFunction(targe) {\n        //匹配函数体的正则\n        const bodyReg = /(?<={)(.|\\n)+(?=})/m;\n        //匹配函数参数的正则\n        const paramReg = /(?<=\\().+(?=\\)\\s+{)/;\n        const targeString = targe.toString();\n        //利用prototype来区分下箭头函数和普通函数，箭头函数是没有prototype的\n        if (targe.prototype) { //普通函数\n            const param = paramReg.exec(targeString);\n            const body = bodyReg.exec(targeString);\n            if (body) {\n                if (param) {\n                    const paramArr = param[0].split(',');\n                    //使用 new Function 重新构造一个新的函数\n                    return new Function(...paramArr, body[0]);\n                } else {\n                    return new Function(body[0]);\n                }\n            } else {\n                return null;\n            }\n        } else { //箭头函数\n            //eval和函数字符串来重新生成一个箭头函数\n            return eval(targeString);\n        }\n    }\n    /**\n     * 遍历数据处理函数\n     * @array 要处理的数据\n     * @callback 回调函数，接收两个参数 value 每一项的值 index 每一项的下标或者key。\n     */\n    function handleWhile(array, callback) {\n        let index = -1;\n        const length = array.length;\n        while (++index < length) {\n            callback(array[index], index);\n        }\n    }\n    function clone(target, map) {\n        if (isObject(target)) {\n            let result = null;\n            if (getType(target) === \"[object Array]\") {\n                result = []\n            } else if (getType(target) === \"[object Object]\") {\n                result = {}\n            } else if (getType(target) === \"[object Map]\") {\n                result = new Map();\n            } else if (getType(target) === \"[object Set]\") {\n                result = new Set();\n            }\n\n            //解决循环引用\n            if (map[target]) {\n                return map[target];\n            }\n            map[target] = result;\n\n            if (getType(target) === \"[object Map]\") {\n                target.forEach((value, key) => {\n                    result.set(key, clone(value, map));\n                });\n                return result;\n            } else if (getType(target) === \"[object Set]\") {\n                target.forEach(value => {\n                    result.add(clone(value, map));\n                });\n                return result;\n            } else if (getType(target) === \"[object Object]\" || getType(target) === \"[object Array]\") {\n                const keys = getType(target) === \"[object Array]\" ? undefined : Object.keys(target);\n\n                function callback(value, key) {\n                    if (keys) {\n                        // 如果keys存在则说明value是一个对象的key，不存在则说明key就是数组的下标。\n                        key = value\n                    }\n                    result[key] = clone(target[key], map)\n                }\n                handleWhile(keys || target, callback)\n            } else {\n                result = handleOherData(target)\n            }\n            return result;\n        } else {\n            if (getType(target) === \"[object Symbol]\") {\n                return cloneSymbol(target)\n            } else {\n                return target;\n            }\n        }\n    }\n    let map = {}\n    const result = clone(target, map);\n    map = null;\n    return result\n}\n\n```\n\n","slug":"深、浅拷贝","published":1,"updated":"2022-03-28T02:31:48.907Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibuk000e2wthaqtkhrn1","content":"<p>一、js的数据类型</p>\n<p>基本类型：Number 、String、Boolean、Null、Undefind、Symbol </p>\n<p>引用数据类型：Array、Function、Object</p>\n<p>二、深拷贝和浅拷贝的区别</p>\n<p>浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块堆内存;</p>\n<p>深拷贝会创造一个一模一样的值存储，修改新对象不会更改到原对象</p>\n<p>三、深拷贝实现方式</p>\n<p>1、JSON.parse和JSON.stringify实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a=&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>:<span class=\"string\">&quot;qizhenyuan&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>:<span class=\"number\">28</span>,</span><br><span class=\"line\">    <span class=\"attr\">say</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    \t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;姓名：&quot;</span>+<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">love</span>:<span class=\"literal\">undefined</span>,</span><br><span class=\"line\">    <span class=\"attr\">sym</span>:<span class=\"title class_\">Symbol</span>(<span class=\"string\">&#x27;qizhenyuan&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">reg</span>:<span class=\"regexp\">/(0-9)/</span>,</span><br><span class=\"line\"> \t<span class=\"attr\">nan</span>:<span class=\"title class_\">NaN</span>,</span><br><span class=\"line\">    <span class=\"attr\">inf</span>:<span class=\"title class_\">Infinity</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(),</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b=<span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(a));</span><br><span class=\"line\">b.<span class=\"property\">age</span> = <span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a,b)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">age</span>) <span class=\"comment\">// =&gt; 28</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">age</span>) <span class=\"comment\">// =&gt; 18</span></span><br><span class=\"line\">a.<span class=\"title function_\">say</span>() <span class=\"comment\">// 控制台输出：姓名：qizhenyuan</span></span><br><span class=\"line\">b.<span class=\"title function_\">say</span>() <span class=\"comment\">// 控制台输出：TypeError: b.say is not a function</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/images/1648110790(1).jpg\"></p>\n<p><u><strong>tips:</strong> </u> </p>\n<ol>\n<li><code>undefined</code>、<code>Symbol</code>、函数会被忽略</li>\n<li>Date会被<code>toJSON()</code>转为字符串</li>\n<li><code>NaN</code>、<code>Infinity</code>被认为是<code>null</code></li>\n<li>正则会被转为空对象</li>\n</ol>\n<p>二、递归赋值（手写递归）</p>\n<p>1.并没有实现对正则、date的拷贝</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepCopy</span>(<span class=\"params\">obj</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> objClone = <span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(obj)?[]:&#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(obj &amp;&amp; <span class=\"keyword\">typeof</span> obj == <span class=\"string\">&quot;object&quot;</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(key <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> obj[key] == <span class=\"string\">&quot;object&quot;</span>)&#123;</span><br><span class=\"line\">                objClone[key] = <span class=\"title function_\">deepCopy</span>(obj[key])</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                objClone[key] = obj[key]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objClone</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepClone</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">clone</span>(<span class=\"params\">target, map</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target !== <span class=\"literal\">null</span> &amp;&amp; <span class=\"keyword\">typeof</span> target === <span class=\"string\">&#x27;object&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> result = <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(target) === <span class=\"string\">&quot;[Object Array]&quot;</span> ? [] : &#123;&#125;;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (map[target]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> map[target]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            map[target] = result;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> target) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (target.<span class=\"title function_\">hasOwnProperty</span>(key)) &#123;</span><br><span class=\"line\">                    result[key] = <span class=\"title function_\">deepClone</span>(target[key])</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> target</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> map = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"title function_\">clone</span>(target, map);</span><br><span class=\"line\">    map = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"title function_\">deepCopy</span>(a) <span class=\"comment\">//会有死循环 a.f=a;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> c = <span class=\"title function_\">deepClone</span>(a) </span><br></pre></td></tr></table></figure>\n\n<p><code>deepClone</code>利用额外的变量 <code>map</code> 来存储当前对象和拷贝对象的对应关系，当需要拷贝当前对象时，先去 map 中找，有没有拷贝过这个对象，如果有的话直接返回，如果没有的话继续拷贝，这样就巧妙化解的循环引用的问题。最后需要把变量 map 置为 null ，释放内存，防止内存泄露。</p>\n<ol start=\"2\">\n<li>根据类型拷贝</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepClone</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 获取数据类型</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">getType</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(target)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//判断数据是不是引用类型</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">isObject</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> target !== <span class=\"literal\">null</span> &amp;&amp; (<span class=\"keyword\">typeof</span> target === <span class=\"string\">&#x27;object&#x27;</span> || <span class=\"keyword\">typeof</span> target === <span class=\"string\">&#x27;function&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//处理不需要遍历的应引用类型数据</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">handleOherData</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> type = <span class=\"title function_\">getType</span>(target);</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"string\">&quot;[object Date]&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(target)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"string\">&quot;[object RegExp]&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"title function_\">cloneReg</span>(target)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"string\">&quot;[object Function]&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"title function_\">cloneFunction</span>(target)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//拷贝Symbol类型数据</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">cloneSymbol</span>(<span class=\"params\">targe</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = <span class=\"title class_\">String</span>(targe); <span class=\"comment\">//把Symbol字符串化</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = a.<span class=\"title function_\">substring</span>(<span class=\"number\">7</span>, a.<span class=\"property\">length</span> - <span class=\"number\">1</span>); <span class=\"comment\">//取出Symbol()的参数</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title class_\">Symbol</span>(b); <span class=\"comment\">//用原先的Symbol()的参数创建一个新的Symbol</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//拷贝正则类型数据</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">cloneReg</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> reFlags = <span class=\"regexp\">/\\w*$/</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> result = <span class=\"keyword\">new</span> target.<span class=\"title function_\">constructor</span>(<span class=\"params\">target.source, reFlags.exec(target)</span>);</span><br><span class=\"line\">        result.<span class=\"property\">lastIndex</span> = target.<span class=\"property\">lastIndex</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//拷贝函数</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">cloneFunction</span>(<span class=\"params\">targe</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//匹配函数体的正则</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> bodyReg = <span class=\"regexp\">/(?&lt;=&#123;)(.|\\n)+(?=&#125;)/m</span>;</span><br><span class=\"line\">        <span class=\"comment\">//匹配函数参数的正则</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> paramReg = <span class=\"regexp\">/(?&lt;=\\().+(?=\\)\\s+&#123;)/</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> targeString = targe.<span class=\"title function_\">toString</span>();</span><br><span class=\"line\">        <span class=\"comment\">//利用prototype来区分下箭头函数和普通函数，箭头函数是没有prototype的</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (targe.<span class=\"property\"><span class=\"keyword\">prototype</span></span>) &#123; <span class=\"comment\">//普通函数</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> param = paramReg.<span class=\"title function_\">exec</span>(targeString);</span><br><span class=\"line\">            <span class=\"keyword\">const</span> body = bodyReg.<span class=\"title function_\">exec</span>(targeString);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (body) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (param) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">const</span> paramArr = param[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>);</span><br><span class=\"line\">                    <span class=\"comment\">//使用 new Function 重新构造一个新的函数</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Function</span>(...paramArr, body[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Function</span>(body[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">//箭头函数</span></span><br><span class=\"line\">            <span class=\"comment\">//eval和函数字符串来重新生成一个箭头函数</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">eval</span>(targeString);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 遍历数据处理函数</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@array</span> 要处理的数据</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@callback</span> 回调函数，接收两个参数 value 每一项的值 index 每一项的下标或者key。</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">handleWhile</span>(<span class=\"params\">array, callback</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> length = array.<span class=\"property\">length</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (++index &lt; length) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">callback</span>(array[index], index);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">clone</span>(<span class=\"params\">target, map</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title function_\">isObject</span>(target)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> result = <span class=\"literal\">null</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Array]&quot;</span>) &#123;</span><br><span class=\"line\">                result = []</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Object]&quot;</span>) &#123;</span><br><span class=\"line\">                result = &#123;&#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Map]&quot;</span>) &#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Set]&quot;</span>) &#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//解决循环引用</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (map[target]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> map[target];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            map[target] = result;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Map]&quot;</span>) &#123;</span><br><span class=\"line\">                target.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">value, key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    result.<span class=\"title function_\">set</span>(key, <span class=\"title function_\">clone</span>(value, map));</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Set]&quot;</span>) &#123;</span><br><span class=\"line\">                target.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123;</span><br><span class=\"line\">                    result.<span class=\"title function_\">add</span>(<span class=\"title function_\">clone</span>(value, map));</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Object]&quot;</span> || <span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Array]&quot;</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> keys = <span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Array]&quot;</span> ? <span class=\"literal\">undefined</span> : <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(target);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">function</span> <span class=\"title function_\">callback</span>(<span class=\"params\">value, key</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (keys) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 如果keys存在则说明value是一个对象的key，不存在则说明key就是数组的下标。</span></span><br><span class=\"line\">                        key = value</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    result[key] = <span class=\"title function_\">clone</span>(target[key], map)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"title function_\">handleWhile</span>(keys || target, callback)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                result = <span class=\"title function_\">handleOherData</span>(target)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Symbol]&quot;</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"title function_\">cloneSymbol</span>(target)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> target;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> map = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"title function_\">clone</span>(target, map);</span><br><span class=\"line\">    map = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<p>一、js的数据类型</p>\n<p>基本类型：Number 、String、Boolean、Null、Undefind、Symbol </p>\n<p>引用数据类型：Array、Function、Object</p>\n<p>二、深拷贝和浅拷贝的区别</p>\n<p>浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块堆内存;</p>\n<p>深拷贝会创造一个一模一样的值存储，修改新对象不会更改到原对象</p>\n<p>三、深拷贝实现方式</p>\n<p>1、JSON.parse和JSON.stringify实现</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a=&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>:<span class=\"string\">&quot;qizhenyuan&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>:<span class=\"number\">28</span>,</span><br><span class=\"line\">    <span class=\"attr\">say</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    \t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;姓名：&quot;</span>+<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">love</span>:<span class=\"literal\">undefined</span>,</span><br><span class=\"line\">    <span class=\"attr\">sym</span>:<span class=\"title class_\">Symbol</span>(<span class=\"string\">&#x27;qizhenyuan&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">reg</span>:<span class=\"regexp\">/(0-9)/</span>,</span><br><span class=\"line\"> \t<span class=\"attr\">nan</span>:<span class=\"title class_\">NaN</span>,</span><br><span class=\"line\">    <span class=\"attr\">inf</span>:<span class=\"title class_\">Infinity</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(),</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b=<span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(a));</span><br><span class=\"line\">b.<span class=\"property\">age</span> = <span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a,b)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">age</span>) <span class=\"comment\">// =&gt; 28</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">age</span>) <span class=\"comment\">// =&gt; 18</span></span><br><span class=\"line\">a.<span class=\"title function_\">say</span>() <span class=\"comment\">// 控制台输出：姓名：qizhenyuan</span></span><br><span class=\"line\">b.<span class=\"title function_\">say</span>() <span class=\"comment\">// 控制台输出：TypeError: b.say is not a function</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/images/1648110790(1).jpg\"></p>\n<p><u><strong>tips:</strong> </u> </p>\n<ol>\n<li><code>undefined</code>、<code>Symbol</code>、函数会被忽略</li>\n<li>Date会被<code>toJSON()</code>转为字符串</li>\n<li><code>NaN</code>、<code>Infinity</code>被认为是<code>null</code></li>\n<li>正则会被转为空对象</li>\n</ol>\n<p>二、递归赋值（手写递归）</p>\n<p>1.并没有实现对正则、date的拷贝</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepCopy</span>(<span class=\"params\">obj</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> objClone = <span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(obj)?[]:&#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(obj &amp;&amp; <span class=\"keyword\">typeof</span> obj == <span class=\"string\">&quot;object&quot;</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(key <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> obj[key] == <span class=\"string\">&quot;object&quot;</span>)&#123;</span><br><span class=\"line\">                objClone[key] = <span class=\"title function_\">deepCopy</span>(obj[key])</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                objClone[key] = obj[key]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objClone</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepClone</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">clone</span>(<span class=\"params\">target, map</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target !== <span class=\"literal\">null</span> &amp;&amp; <span class=\"keyword\">typeof</span> target === <span class=\"string\">&#x27;object&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> result = <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(target) === <span class=\"string\">&quot;[Object Array]&quot;</span> ? [] : &#123;&#125;;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (map[target]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> map[target]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            map[target] = result;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> target) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (target.<span class=\"title function_\">hasOwnProperty</span>(key)) &#123;</span><br><span class=\"line\">                    result[key] = <span class=\"title function_\">deepClone</span>(target[key])</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> target</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> map = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"title function_\">clone</span>(target, map);</span><br><span class=\"line\">    map = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"title function_\">deepCopy</span>(a) <span class=\"comment\">//会有死循环 a.f=a;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> c = <span class=\"title function_\">deepClone</span>(a) </span><br></pre></td></tr></table></figure>\n\n<p><code>deepClone</code>利用额外的变量 <code>map</code> 来存储当前对象和拷贝对象的对应关系，当需要拷贝当前对象时，先去 map 中找，有没有拷贝过这个对象，如果有的话直接返回，如果没有的话继续拷贝，这样就巧妙化解的循环引用的问题。最后需要把变量 map 置为 null ，释放内存，防止内存泄露。</p>\n<ol start=\"2\">\n<li>根据类型拷贝</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepClone</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 获取数据类型</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">getType</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(target)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//判断数据是不是引用类型</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">isObject</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> target !== <span class=\"literal\">null</span> &amp;&amp; (<span class=\"keyword\">typeof</span> target === <span class=\"string\">&#x27;object&#x27;</span> || <span class=\"keyword\">typeof</span> target === <span class=\"string\">&#x27;function&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//处理不需要遍历的应引用类型数据</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">handleOherData</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> type = <span class=\"title function_\">getType</span>(target);</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"string\">&quot;[object Date]&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(target)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"string\">&quot;[object RegExp]&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"title function_\">cloneReg</span>(target)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"string\">&quot;[object Function]&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"title function_\">cloneFunction</span>(target)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//拷贝Symbol类型数据</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">cloneSymbol</span>(<span class=\"params\">targe</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = <span class=\"title class_\">String</span>(targe); <span class=\"comment\">//把Symbol字符串化</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = a.<span class=\"title function_\">substring</span>(<span class=\"number\">7</span>, a.<span class=\"property\">length</span> - <span class=\"number\">1</span>); <span class=\"comment\">//取出Symbol()的参数</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title class_\">Symbol</span>(b); <span class=\"comment\">//用原先的Symbol()的参数创建一个新的Symbol</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//拷贝正则类型数据</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">cloneReg</span>(<span class=\"params\">target</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> reFlags = <span class=\"regexp\">/\\w*$/</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> result = <span class=\"keyword\">new</span> target.<span class=\"title function_\">constructor</span>(<span class=\"params\">target.source, reFlags.exec(target)</span>);</span><br><span class=\"line\">        result.<span class=\"property\">lastIndex</span> = target.<span class=\"property\">lastIndex</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//拷贝函数</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">cloneFunction</span>(<span class=\"params\">targe</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//匹配函数体的正则</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> bodyReg = <span class=\"regexp\">/(?&lt;=&#123;)(.|\\n)+(?=&#125;)/m</span>;</span><br><span class=\"line\">        <span class=\"comment\">//匹配函数参数的正则</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> paramReg = <span class=\"regexp\">/(?&lt;=\\().+(?=\\)\\s+&#123;)/</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> targeString = targe.<span class=\"title function_\">toString</span>();</span><br><span class=\"line\">        <span class=\"comment\">//利用prototype来区分下箭头函数和普通函数，箭头函数是没有prototype的</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (targe.<span class=\"property\"><span class=\"keyword\">prototype</span></span>) &#123; <span class=\"comment\">//普通函数</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> param = paramReg.<span class=\"title function_\">exec</span>(targeString);</span><br><span class=\"line\">            <span class=\"keyword\">const</span> body = bodyReg.<span class=\"title function_\">exec</span>(targeString);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (body) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (param) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">const</span> paramArr = param[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>);</span><br><span class=\"line\">                    <span class=\"comment\">//使用 new Function 重新构造一个新的函数</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Function</span>(...paramArr, body[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Function</span>(body[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">//箭头函数</span></span><br><span class=\"line\">            <span class=\"comment\">//eval和函数字符串来重新生成一个箭头函数</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">eval</span>(targeString);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 遍历数据处理函数</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@array</span> 要处理的数据</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@callback</span> 回调函数，接收两个参数 value 每一项的值 index 每一项的下标或者key。</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">handleWhile</span>(<span class=\"params\">array, callback</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> length = array.<span class=\"property\">length</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (++index &lt; length) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">callback</span>(array[index], index);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">clone</span>(<span class=\"params\">target, map</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title function_\">isObject</span>(target)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> result = <span class=\"literal\">null</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Array]&quot;</span>) &#123;</span><br><span class=\"line\">                result = []</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Object]&quot;</span>) &#123;</span><br><span class=\"line\">                result = &#123;&#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Map]&quot;</span>) &#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Set]&quot;</span>) &#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//解决循环引用</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (map[target]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> map[target];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            map[target] = result;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Map]&quot;</span>) &#123;</span><br><span class=\"line\">                target.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">value, key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    result.<span class=\"title function_\">set</span>(key, <span class=\"title function_\">clone</span>(value, map));</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Set]&quot;</span>) &#123;</span><br><span class=\"line\">                target.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123;</span><br><span class=\"line\">                    result.<span class=\"title function_\">add</span>(<span class=\"title function_\">clone</span>(value, map));</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Object]&quot;</span> || <span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Array]&quot;</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> keys = <span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Array]&quot;</span> ? <span class=\"literal\">undefined</span> : <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(target);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">function</span> <span class=\"title function_\">callback</span>(<span class=\"params\">value, key</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (keys) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 如果keys存在则说明value是一个对象的key，不存在则说明key就是数组的下标。</span></span><br><span class=\"line\">                        key = value</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    result[key] = <span class=\"title function_\">clone</span>(target[key], map)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"title function_\">handleWhile</span>(keys || target, callback)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                result = <span class=\"title function_\">handleOherData</span>(target)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title function_\">getType</span>(target) === <span class=\"string\">&quot;[object Symbol]&quot;</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"title function_\">cloneSymbol</span>(target)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> target;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> map = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"title function_\">clone</span>(target, map);</span><br><span class=\"line\">    map = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n"},{"title":"[随笔]分享心情","date":"2022-03-17T10:47:44.000Z","_content":"\n不知道是第几次下定决心去写博客，迈出了第一步。对平时的技术做一些积累，也记录一些趣事。希望自己可以坚持下去，不能随便立flag。\n\n加油吧，少年！！！\n\n\n\n这几天组里好多同事提了离职，愿他们前程似锦。做好本职工作，提升自己。","source":"_posts/随笔.md","raw":"---\ntitle: \"[随笔]分享心情\"\ndate: 2022-03-17 18:47:44\ntags: 随笔\n---\n\n不知道是第几次下定决心去写博客，迈出了第一步。对平时的技术做一些积累，也记录一些趣事。希望自己可以坚持下去，不能随便立flag。\n\n加油吧，少年！！！\n\n\n\n这几天组里好多同事提了离职，愿他们前程似锦。做好本职工作，提升自己。","slug":"随笔","published":1,"updated":"2022-03-17T11:02:20.099Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl1bsibul000g2wthgujs6z2l","content":"<p>不知道是第几次下定决心去写博客，迈出了第一步。对平时的技术做一些积累，也记录一些趣事。希望自己可以坚持下去，不能随便立flag。</p>\n<p>加油吧，少年！！！</p>\n<p>这几天组里好多同事提了离职，愿他们前程似锦。做好本职工作，提升自己。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>不知道是第几次下定决心去写博客，迈出了第一步。对平时的技术做一些积累，也记录一些趣事。希望自己可以坚持下去，不能随便立flag。</p>\n<p>加油吧，少年！！！</p>\n<p>这几天组里好多同事提了离职，愿他们前程似锦。做好本职工作，提升自己。</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cl1bsibu700012wthf5hbbsn3","tag_id":"cl1bsibub00032wthgq2md03r","_id":"cl1bsibuh00082wth79tt30wi"},{"post_id":"cl1bsibuh00092wthhv0bbpxp","tag_id":"cl1bsibub00032wthgq2md03r","_id":"cl1bsibuj000c2wtharij9w4c"},{"post_id":"cl1bsibu900022wthcne69jyu","tag_id":"cl1bsibub00032wthgq2md03r","_id":"cl1bsibum000h2wth2c9bc8ht"},{"post_id":"cl1bsibu900022wthcne69jyu","tag_id":"cl1bsibui000b2wth58rfgn4m","_id":"cl1bsibum000i2wthc7bc117n"},{"post_id":"cl1bsibuk000e2wthaqtkhrn1","tag_id":"cl1bsibub00032wthgq2md03r","_id":"cl1bsibum000k2wth30g4ej1s"},{"post_id":"cl1bsibud00042wth7tjuhmdv","tag_id":"cl1bsibul000f2wthe4r38b6q","_id":"cl1bsibun000m2wth12uy17e1"},{"post_id":"cl1bsibud00042wth7tjuhmdv","tag_id":"cl1bsibum000j2wth6qbx5ykw","_id":"cl1bsibun000n2wth5urverkh"},{"post_id":"cl1bsibud00052wthd1fzhh89","tag_id":"cl1bsibul000f2wthe4r38b6q","_id":"cl1bsibun000p2wthb1iq3lyj"},{"post_id":"cl1bsibui000a2wth77grfdrt","tag_id":"cl1bsibun000o2wth5x7b8lh7","_id":"cl1bsibuo000r2wthfldh5c94"},{"post_id":"cl1bsibuj000d2wthcj50gzoe","tag_id":"cl1bsibub00032wthgq2md03r","_id":"cl1bsibuo000t2wthcjc470yj"},{"post_id":"cl1bsibuj000d2wthcj50gzoe","tag_id":"cl1bsibun000q2wthgl9ehaln","_id":"cl1bsibuo000u2wth9wvc5x7i"},{"post_id":"cl1bsibul000g2wthgujs6z2l","tag_id":"cl1bsibuo000s2wthgzxu75em","_id":"cl1bsibuo000v2wth4239bj2l"}],"Tag":[{"name":"js","_id":"cl1bsibub00032wthgq2md03r"},{"name":"es6","_id":"cl1bsibui000b2wth58rfgn4m"},{"name":"vue","_id":"cl1bsibul000f2wthe4r38b6q"},{"name":"vuex","_id":"cl1bsibum000j2wth6qbx5ykw"},{"name":"css","_id":"cl1bsibun000o2wth5x7b8lh7"},{"name":"浏览器","_id":"cl1bsibun000q2wthgl9ehaln"},{"name":"随笔","_id":"cl1bsibuo000s2wthgzxu75em"}]}}